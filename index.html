<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>🌐 CCNAv7 sem3</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">🌐 CCNAv7 sem3</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#i.-protokół-ospf">I. Protokół OSPF</a>
<ul>
<li><a href="#ospf">1. OSPF</a></li>
<li><a href="#proces-routingu-stanu-łącza">2. Proces routingu stanu łącza</a></li>
<li><a href="#zalety-wieloobszarowego-ospf">3. Zalety wieloobszarowego OSPF</a></li>
<li><a href="#osfpv3">4. OSFPv3</a></li>
<li><a href="#rodzaje-pakietów-ospf">5. Rodzaje pakietów OSPF</a></li>
<li><a href="#stany-protokołu-ospf">6. Stany protokołu OSPF</a></li>
</ul></li>
<li><a href="#ii.-konfiguracja-jednoobszarowego-ospfv2">II. Konfiguracja jednoobszarowego OSPFv2</a>
<ul>
<li><a href="#identyfikator-routera">1. Identyfikator routera</a></li>
<li><a href="#maska-blankietowa-wildcard-mask">2. Maska blankietowa (wildcard mask)</a></li>
<li><a href="#interfejsy-pasywne">3. Interfejsy pasywne</a></li>
<li><a href="#drother">4. DROTHER</a></li>
<li><a href="#potrzebne-komendy">5. Potrzebne komendy</a></li>
<li><a href="#koszt-jako-metryka-w-ospf">6. Koszt jako metryka w OSPF</a></li>
<li><a href="#interwały-pakietów-hello">7. Interwały pakietów Hello</a></li>
<li><a href="#propagowanie-domyślnej-trasy-statycznej-w-opsfv2">8. Propagowanie domyślnej trasy statycznej w OPSFv2</a></li>
<li><a href="#źródła-uzupełniające">9. Źródła uzupełniające</a></li>
</ul></li>
<li><a href="#iii.-koncepcje-bezpieczeństwa-sieci">III. Koncepcje bezpieczeństwa sieci</a>
<ul>
<li><a href="#wektory-ataków-sieciowych">1. Wektory ataków sieciowych</a></li>
<li><a href="#typy-hakerów">2. Typy hakerów</a></li>
<li><a href="#terminy-dotyczące-hackingu">3. Terminy dotyczące hackingu</a></li>
<li><a href="#narzędzia-do-testowania-penetracji">4. Narzędzia do testowania penetracji</a></li>
<li><a href="#typy-ataków">5. Typy ataków</a></li>
<li><a href="#rodzaje-złośliwego-oprogramowania">6. Rodzaje złośliwego oprogramowania</a>
<ul>
<li><a href="#wirus">6.1. Wirus</a></li>
<li><a href="#koń-trojański">6.2. Koń trojański</a></li>
</ul></li>
<li><a href="#rekonesans">7. Rekonesans</a></li>
<li><a href="#ataki-dostępu">8. Ataki dostępu</a>
<ul>
<li><a href="#ataki-na-hasło">8.1. Ataki na hasło</a></li>
<li><a href="#ataki-fałszowania">8.2. Ataki fałszowania</a></li>
<li><a href="#wykorzystanie-zaufania">8.3. Wykorzystanie zaufania</a></li>
<li><a href="#przekierowanie-portów">8.4. Przekierowanie portów</a></li>
<li><a href="#atak-man-in-the-middle">8.5. Atak Man-in-the-middle</a></li>
<li><a href="#przepełnienie-bufora">8.6. Przepełnienie bufora</a></li>
</ul></li>
<li><a href="#ataki-socjotechniczne">9. Ataki socjotechniczne</a></li>
<li><a href="#ataki-dos-i-ddos">10. Ataki DoS i DDoS</a>
<ul>
<li><a href="#główne-typy-ataków-dos">10.1. Główne typy ataków DoS</a></li>
</ul></li>
<li><a href="#ataki-ip">11. Ataki IP</a></li>
<li><a href="#ataki-na-icmp">12. Ataki na ICMP</a></li>
<li><a href="#ataki-wzmacniania-i-obijania">13. Ataki wzmacniania i obijania</a></li>
<li><a href="#ataki-fałszowania-1">14. Ataki fałszowania</a></li>
<li><a href="#usługi-tcp">15. Usługi TCP</a></li>
<li><a href="#ataki-na-tcp">16. Ataki na TCP</a></li>
<li><a href="#ataki-na-udp">17. Ataki na UDP</a></li>
<li><a href="#zatruwanie-arp">18. Zatruwanie ARP</a>
<ul>
<li><a href="#rodzaje-zatrucia-arp">18.1. Rodzaje zatrucia ARP</a></li>
</ul></li>
<li><a href="#ataki-na-dns">19. Ataki na DNS</a></li>
<li><a href="#tunelowanie-dns">20. Tunelowanie DNS</a>
<ul>
<li><a href="#proces-tunelowania-dns">20.1. Proces tunelowania DNS</a></li>
</ul></li>
<li><a href="#ataki-na-dhcp">21. Ataki na DHCP</a></li>
<li><a href="#triada-pid">22. Triada PID</a></li>
<li><a href="#urządzenia-i-usługi-zabezpieczające">23. Urządzenia i usługi zabezpieczające</a></li>
<li><a href="#zapory">24. Zapory</a></li>
<li><a href="#ips">25. IPS</a></li>
<li><a href="#urządzenia-bezpieczeństwa-treści">26. Urządzenia bezpieczeństwa treści</a></li>
<li><a href="#elementy-bezpiecznej-komunikacji">27. Elementy bezpiecznej komunikacji:</a></li>
<li><a href="#integralność-danych">28. Integralność danych</a>
<ul>
<li><a href="#trzy-znane-funkcje-skrótu">28.1. Trzy znane funkcje skrótu</a></li>
</ul></li>
<li><a href="#uwierzytelnianie-pochodzenia">29. Uwierzytelnianie pochodzenia</a></li>
<li><a href="#poufność-danych">30. Poufność danych</a>
<ul>
<li><a href="#szyfrowanie-symetryczne">30.1. Szyfrowanie symetryczne</a></li>
<li><a href="#szyfrowanie-asymetryczne">30.2. Szyfrowanie asymetryczne</a></li>
</ul></li>
<li><a href="#diffie-hellman-dh">31. Diffie-Hellman (DH)</a></li>
</ul></li>
<li><a href="#iv.-koncepcje-acl">IV. Koncepcje ACL</a>
<ul>
<li><a href="#lista-acl">1. Lista ACL</a>
<ul>
<li><a href="#filtrowanie-ramek">1.1 Filtrowanie ramek</a></li>
<li><a href="#zadanie-acl">1.2. Zadanie ACL</a></li>
<li><a href="#filtrowanie-pakietów-w-modelu-isoosi">1.3. Filtrowanie pakietów w modelu ISO/OSI</a></li>
<li><a href="#wejściowa-i-wyjściowa-lista-acl">1.4. Wejściowa i wyjściowa lista ACL</a></li>
<li><a href="#sposób-działania-standardowej-listy-acl">1.5. Sposób działania standardowej listy ACL</a></li>
</ul></li>
<li><a href="#maski-blankietowe">2. Maski blankietowe</a>
<ul>
<li><a href="#reguły-dopasowania-masek-blankietowych">2.1. Reguły dopasowania masek blankietowych</a></li>
<li><a href="#typy-masek-blankietowych">2.2. Typy masek blankietowych</a></li>
<li><a href="#obliczanie-maski-blankietowej">2.3. Obliczanie maski blankietowej</a></li>
<li><a href="#słowa-kluczowe-w-maskach-blankietowych">2.4. Słowa kluczowe w maskach blankietowych</a></li>
</ul></li>
<li><a href="#wytyczne-tworzenia-acl">3. Wytyczne tworzenia ACL</a>
<ul>
<li><a href="#ograniczona-liczba-acl-na-interfejs">3.1. Ograniczona liczba ACL na interfejs</a></li>
<li><a href="#najlepsze-praktyki">3.2. Najlepsze praktyki</a></li>
<li><a href="#kolejność-instrukcji-acl">3.3. Kolejność instrukcji ACL</a></li>
</ul></li>
<li><a href="#numerowane-i-nazwane-acl">4. Numerowane i nazwane ACL</a>
<ul>
<li><a href="#numerowane-acl">4.1. Numerowane ACL</a></li>
<li><a href="#nazwane-acl">4.2. Nazwane ACL</a></li>
</ul></li>
<li><a href="#umieszczanie-listy-acl">5. Umieszczanie listy ACL</a>
<ul>
<li><a href="#czynniki-wpływające-na-umieszczenie-acl">5.1. Czynniki wpływające na umieszczenie ACL</a></li>
</ul></li>
<li><a href="#źródła-uzupełniające-1">6. Źródła uzupełniające</a></li>
</ul></li>
<li><a href="#v.-konfiguracja-acl">V. Konfiguracja ACL</a>
<ul>
<li><a href="#konfiguracja-standardowych-list-acl-ipv4">1. Konfiguracja standardowych list ACL IPv4</a>
<ul>
<li><a href="#standardowa-numerowana-acl">1.1. Standardowa numerowana ACL</a></li>
<li><a href="#standardowa-nazywana-acl">1.2. Standardowa nazywana ACL</a></li>
<li><a href="#stosowanie-standardowych-list-acl-ipv4">1.3. Stosowanie standardowych list ACL IPv4</a></li>
</ul></li>
<li><a href="#modyfikowanie-list-acl-ipv4">2. Modyfikowanie list ACL IPv4</a>
<ul>
<li><a href="#dwie-metody-modyfikacji-acl">2.1. Dwie metody modyfikacji ACL</a></li>
<li><a href="#statystyki-acl">2.2. Statystyki ACL</a></li>
</ul></li>
<li><a href="#zabezpieczanie-portów-vty-przy-pomocy-standardowej-acl-ipv4">3. Zabezpieczanie portów VTY przy pomocy standardowej ACL IPv4</a>
<ul>
<li><a href="#polecenie-access-class">3.1. Polecenie access-class</a></li>
<li><a href="#przykład-zabezpieczania-dostępu-vty">3.2. Przykład zabezpieczania dostępu VTY</a></li>
</ul></li>
<li><a href="#konfiguracja-rozszerzonych-list-acl-ipv4">4. Konfiguracja rozszerzonych list ACL IPv4</a>
<ul>
<li><a href="#rozszerzona-numerowana-lista-acl-ipv4">4.1. Rozszerzona numerowana lista ACL IPv4</a></li>
<li><a href="#rozszerzona-acl-z-opcją-established-tcp">4.2. Rozszerzona ACL z opcją Established TCP</a></li>
<li><a href="#rozszerzona-nazywana-lista-acl-ipv4">4.3. Rozszerzona nazywana lista ACL IPv4</a></li>
</ul></li>
</ul></li>
<li><a href="#vi.-nat-dla-ipv4">VI. NAT dla IPv4</a>
<ul>
<li><a href="#charakterystyka-nat">1. Charakterystyka NAT</a>
<ul>
<li><a href="#prywatne-adresy-internetowe-definiowane-w-dokumencie-rfc-1918">1.1. Prywatne adresy internetowe definiowane w dokumencie RFC 1918</a></li>
<li><a href="#czym-jest-nat">1.2. Czym jest NAT?</a></li>
<li><a href="#terminologia-nat">1.3. Terminologia NAT</a></li>
</ul></li>
<li><a href="#typy-nat">2. Typy NAT</a>
<ul>
<li><a href="#statyczny-nat">2.1. Statyczny NAT</a></li>
<li><a href="#dynamiczny-nat">2.2. Dynamiczny NAT</a></li>
<li><a href="#translacja-pat">2.3. Translacja PAT</a></li>
</ul></li>
<li><a href="#zalety-i-wady-nat">3. Zalety i wady NAT</a>
<ul>
<li><a href="#zalety-nat">3.1. Zalety NAT</a></li>
<li><a href="#wady-nat">3.2. Wady NAT</a></li>
</ul></li>
</ul></li>
<li><a href="#konfiguracja-nat">4. Konfiguracja NAT</a>
<ul>
<li><a href="#konfiguracja-statycznego-nat">4.1. Konfiguracja statycznego NAT</a>
<ul>
<li><a href="#polecenie-ip-nat-inside-source-static">4.1.1. Polecenie ip nat inside source static</a></li>
<li><a href="#polecenie-ip-nat">4.1.2. Polecenie ip nat</a></li>
<li><a href="#polecenie-show-ip-nat-translations">4.1.3. Polecenie show ip nat translations</a></li>
<li><a href="#polecenie-show-ip-nat-statistics">4.1.4. Polecenie show ip nat statistics</a></li>
<li><a href="#polecenie-clear-ip-nat-statistics">4.1.5. Polecenie clear ip nat statistics</a></li>
</ul></li>
<li><a href="#konfiguracja-dynamicznego-nat">4.2. Konfiguracja dynamicznego NAT</a>
<ul>
<li><a href="#polecenie-ip-nat-pool">4.2.1. Polecenie ip nat pool</a></li>
<li><a href="#polecenie-access-list">4.2.2. Polecenie access-list</a></li>
<li><a href="#polecenie-ip-nat-inside-source-list">4.2.3. Polecenie ip nat inside source list</a></li>
<li><a href="#polecenie-ip-nat-1">4.2.4. Polecenie ip nat</a></li>
<li><a href="#polecenie-show-ip-nat-translations-1">4.2.5. Polecenie show ip nat translations</a></li>
<li><a href="#polecenie-ip-nat-translation-timeout">4.2.6. Polecenie ip nat translation timeout</a></li>
<li><a href="#polecenie-clear-ip-nat-translation">4.2.7. Polecenie clear ip nat translation</a></li>
<li><a href="#polecenie-show-ip-nat-statistics-1">4.2.8. Polecenie show ip nat statistics</a></li>
</ul></li>
<li><a href="#konfiguracja-pat">4.3. Konfiguracja PAT</a>
<ul>
<li><a href="#konfiguracja-pat-do-używania-pojedynczego-adresu-ipv4">4.3.1. Konfiguracja PAT do używania pojedynczego adresu IPv4</a></li>
<li><a href="#konfigurowanie-pat-do-korzystania-z-puli-adresów">4.3.2. Konfigurowanie PAT do korzystania z puli adresów</a></li>
<li><a href="#weryfikowanie-pat">4.3.3. Weryfikowanie PAT</a></li>
</ul></li>
<li><a href="#nat-dla-ipv6">5. NAT dla IPv6</a></li>
<li><a href="#źródła-uzupełniające-2">6. Źródła uzupełniające</a></li>
</ul></li>
<li><a href="#vii.-koncepcje-sieci-wan">VII. Koncepcje sieci WAN</a>
<ul>
<li><a href="#topologie-wan">1. Topologie WAN</a>
<ul>
<li><a href="#punkt-punkt">1.1. Punkt-punkt</a></li>
<li><a href="#hub-and-spoke">1.2. Hub-and-spoke</a></li>
<li><a href="#dual-homed">1.3. Dual-homed</a></li>
<li><a href="#pełnej-siatki">1.4. Pełnej siatki</a></li>
<li><a href="#częściowej-siatki">1.5. Częściowej siatki</a></li>
</ul></li>
<li><a href="#łącza-operatorów">2. Łącza operatorów</a>
<ul>
<li><a href="#sla">2.1. SLA</a></li>
<li><a href="#połączenie-wan-z-pojedynczym-operatorem">2.2. Połączenie WAN z pojedynczym operatorem</a></li>
<li><a href="#połączenie-wan-z-dwoma-operatorami">2.3. Połączenie WAN z dwoma operatorami</a></li>
</ul></li>
<li><a href="#standardy-sieci-wan">3. Standardy sieci WAN</a></li>
<li><a href="#sieci-wan-w-modelu-osi">4. Sieci WAN w modelu OSI</a></li>
<li><a href="#terminologia-wan">5. Terminologia WAN</a></li>
<li><a href="#urządzenia-sieci-wan">6. Urządzenia sieci WAN</a></li>
<li><a href="#komunikacja-szeregowa">7. Komunikacja szeregowa</a></li>
<li><a href="#komunikacja-z-komutacją-łączy">8. Komunikacja z komutacją łączy</a></li>
<li><a href="#komunikacja-z-przełączaniem-pakietów">9. Komunikacja z przełączaniem pakietów</a></li>
<li><a href="#sdh-sonet-i-dwdm">10. SDH, SONET i DWDM</a></li>
<li><a href="#mpls">11. MPLS</a></li>
</ul></li>
<li><a href="#ix.-koncepcje-qos">IX. Koncepcje QoS</a>
<ul>
<li><a href="#stałe-opóźnienie">1. Stałe opóźnienie</a></li>
<li><a href="#zmienne-opóźnienie">2. Zmienne opóźnienie</a></li>
<li><a href="#źródła-opoźnienia">3. Źródła opoźnienia</a></li>
<li><a href="#jitter">4. Jitter</a></li>
<li><a href="#utracone-pakiety">5. Utracone pakiety</a></li>
<li><a href="#bufor-opóźnienia">6. Bufor opóźnienia</a></li>
<li><a href="#charakterystyka-ruchu-głosowego">7. Charakterystyka ruchu głosowego</a></li>
<li><a href="#charakterystyka-ruchu-wideo">8. Charakterystyka ruchu wideo</a></li>
<li><a href="#charakterystyka-ruchu-danych">9. Charakterystyka ruchu danych</a></li>
<li><a href="#czynniki-które-należy-wziąć-pod-uwagę-w-przypadku-opóźnienia-danych">10. Czynniki, które należy wziąć pod uwagę w przypadku opóźnienia danych</a></li>
<li><a href="#algorytmy-qos">11. Algorytmy QoS</a></li>
<li><a href="#first-in-first-out">12. First In First Out</a></li>
<li><a href="#ważone-uczciwe-kolejkowanie-weighted-fair-queuing---wfq">13. Ważone uczciwe kolejkowanie (Weighted Fair Queuing - WFQ)</a></li>
<li><a href="#uczciwe-kolejkowanie-oparte-na-klasach-class-based-weighted-fair-queuing---cbwfq">14. Uczciwe kolejkowanie oparte na klasach (Class-Based Weighted Fair Queuing - CBWFQ)</a></li>
<li><a href="#kolejkowanie-o-niskim-opóźnieniu-low-latency-queuing---llq">15. Kolejkowanie o niskim opóźnieniu (Low Latency Queuing - LLQ)</a></li>
<li><a href="#modele-do-wdrażania-qos">16. Modele do wdrażania QoS</a></li>
<li><a href="#best-effort">17. Best Effort</a></li>
<li><a href="#intserv">18. IntServ</a></li>
<li><a href="#diffserv">19. DiffServ</a></li>
<li><a href="#narzędzia-do-wdrażania-qos">20. Narzędzia do wdrażania QoS</a></li>
<li><a href="#sekwencja-qos">21. Sekwencja QoS</a></li>
</ul></li>
<li><a href="#koncepcje-vpn-i-ipsec">8. Koncepcje VPN i IPSec</a></li>
</ul>
</nav>
<h1 id="i.-protokół-ospf">I. Protokół OSPF</h1>
<h2 id="ospf">1. OSPF</h2>
<p><strong>OSPF</strong> to protokół routingu stanu łącza opracowany jako alternatywa dla RIP. Wykorzystuje on koncepcje obszarów.</p>
<p><strong>Komunikaty OSPF są wykorzystywane do tworzenia i utrzymywanie trzech następujących baz danych OSPF:</strong></p>
<ul>
<li><strong>Baza przyległości (Adjacency database)</strong> - Tworzy tablicę sąsiadów. - <em>show ip ospf neighbor</em></li>
<li><strong>Baza stanu łącza (Link-state database - LSDB)</strong> - To tworzy tablicę topologii. <em>show ip ospf database</em></li>
<li><strong>Baza przekazywania (Forwarding database)</strong> - To tworzy tablicę routingu. <em>show ip route</em></li>
</ul>
<p>Router używający OSPF buduje tablicę topologii przy użyciu obliczeń opartych na <strong>algorytmie Dijkstry pierwszej najkrótszej ścieżki (shortest-path first - SPF)</strong>.</p>
<p>W tym celu algorytm SPF tworzy tzw. <strong>drzewo SPF</strong>, każdy router umieszczany jest w korzeniu drzewa, po czym obliczana jest najkrótsza ścieżka do każdego węzła. Następnie na podstawie utworzonego drzewa SPF obliczana jest najlepsza ścieżka. Ostatecznie OSPF wstawia najlepsze ścieżki do tablicy przekazywania, na podstawie której tworzona jest tablica routingu.</p>
<h2 id="proces-routingu-stanu-łącza">2. Proces routingu stanu łącza</h2>
<ol type="1">
<li><strong>Ustanowienie przyległości sąsiadów</strong> - wysyłanie pakietów Hello, aby ustalić czy na danym łączu znajdują się sąsiedzi.</li>
<li><strong>Wymiana komunikatów o stanie łącza (LSA)</strong> - pakiety LSA zawierające informacje na temat stanu oraz kosztu każdego bezpośrednio podłączonego łącza wysyłane są zalewowo do wszystkich sąsiadów.</li>
<li><strong>Tworzenie bazy stanów łącza</strong> - Na podstawie pakietów LSA Routery tworzą <strong>tablicę topologii (LSDB)</strong>.</li>
<li><strong>Wykonanie algorytmu SPF</strong> - Routery wykonują algorytm SPF.</li>
<li><strong>Wybór najlepszej trasy</strong> - najlepsze ścieżki oferowane są do tablicy routingu IP.</li>
</ol>
<h2 id="zalety-wieloobszarowego-ospf">3. Zalety wieloobszarowego OSPF</h2>
<ul>
<li>Mniejsze tablice routingu</li>
<li>Zmniejszony narzut aktualizacji stanu łącza</li>
<li>Zmniejszona częstotliwość obliczeń SPF</li>
</ul>
<figure>
<img src="img/1.png" alt="" /><figcaption>Zmiany stanu łącza dotyczą tylko bieżącego obszaru</figcaption>
</figure>
<h2 id="osfpv3">4. OSFPv3</h2>
<p>To odpowiednik OSPFv2 służacy do <strong>wymiany prefiksów IPv6</strong>.</p>
<h2 id="rodzaje-pakietów-ospf">5. Rodzaje pakietów OSPF</h2>
<figure>
<img src="img/2.png" alt="" /><figcaption>Rodzaje pakietów OSPF</figcaption>
</figure>
<p><strong>DR</strong> - Designed Router; <strong>BDR</strong> - Backup Designed Router</p>
<h2 id="stany-protokołu-ospf">6. Stany protokołu OSPF</h2>
<figure>
<img src="img/3.png" alt="" /><figcaption>Stany protokołu OSPF</figcaption>
</figure>
<h1 id="ii.-konfiguracja-jednoobszarowego-ospfv2">II. Konfiguracja jednoobszarowego OSPFv2</h1>
<h2 id="identyfikator-routera">1. Identyfikator routera</h2>
<p>To wartość 32-bitowa, która służy do jednoznacznej identyfikacji routera. Identyfikator ten służy do wykonywania następujących czynności:</p>
<ul>
<li><strong>Uczestniczenie w synchronizacji baz danych OSPF</strong> - Podczas stanu Exchange, router z najwyższym identyfikatorrem routera jako pierwszy wyśle pakiety opisu bazy danych (DBD).</li>
<li><strong>Uczestniczenie w wyborze routera desygnowanego (DR)</strong> - router z najwyższym id jest DR, drugi najwyższy BDR.</li>
</ul>
<figure>
<img src="img/4.png" alt="" /><figcaption>Proces przypisywania identyfikatora</figcaption>
</figure>
<h2 id="maska-blankietowa-wildcard-mask">2. Maska blankietowa (wildcard mask)</h2>
<p>To odwrotność maski podsieci. (255.255.255.0 = 0.0.0.255).</p>
<h2 id="interfejsy-pasywne">3. Interfejsy pasywne</h2>
<p>Domyślnie komunikaty OSPF wysyłane są przez wszystkie interfejsy dołączone do protokołu OSPF. Jednak w praktyce powinny one być wysyłane tylko na tych interfejsach, na których jest połączenie z innym routerami z uruchomionym OSPF.</p>
<p>Wysyłanie niepotrzebnych komunikatów może wpływać na działanie sieci na trzy sposoby:</p>
<ul>
<li><strong>Nieefektywne wykorzystanie pasma</strong></li>
<li><strong>Nieefektywne wykorzystanie zasobów</strong></li>
<li><strong>Zwiększone ryzyko bezpieczeństwa</strong></li>
</ul>
<h2 id="drother">4. DROTHER</h2>
<p>Routery, które nie są ani DR ani BDR.</p>
<h2 id="potrzebne-komendy">5. Potrzebne komendy</h2>
<ul>
<li><strong>router ospf process-id</strong> - włączenie OSPFv2.</li>
<li><strong>router-id</strong> - ustawienie identyfikatora routera.</li>
<li><strong>clear ip ospf process</strong> - wyczyszczenie procesu OSPF (w tym reset relacji przylegania).</li>
<li><strong>show ip protocols</strong> - daje możliwość zobaczenia identyfikatora routera oraz pasywnych interfejsów.</li>
<li><strong>network network-address wildcard-mask area area-id</strong> - włączenie protokołu OSPF na interfejsach.</li>
<li><strong>ip ospf process-id area area-id</strong> - pozwala na konfiguracje OSPf bezpośrednio na interfejsie zamiast polecenia <strong>network</strong>.</li>
<li><strong>passive-interface</strong> - ogranicza wysyłanie komunikatów dotyczących routingu przez interfejs. Komenda <em>passive-interface default</em> sprawia, że wszystkie interfejsy stają się pasywne.</li>
<li><strong>show ip ospf interface</strong> - wyświetla DR i BDR na interfejsie, rolę routera, bieżący koszt.</li>
<li><strong>ip ospf network point-to-point</strong> - zmienia typ wyznaczonej sieci na punkt-punkt i wyłącza proces wyboru DR/BDR.</li>
<li><strong>ip ospf priority value</strong> - ustawia priorytet interfejsu (od 0 do 255).</li>
<li><strong>auto-cost reference-bandwidth <em>Mbps</em></strong> - zmienia referencyjną szerokośc pasma (co pozwala na zmianę kosztu dla interfejsów szybszych niż Fast Ethernet).</li>
<li><strong>ip ospf cost <em>value</em></strong> - zmienia wartość kosztu ogłaszaną przez lokalny router OSPF do innych routerów OSPF .</li>
<li><strong>ip ospf hello-interval <em>seconds</em></strong> - zmienia interwał hello.</li>
<li><strong>ip ospf dead-interval <em>seconds</em></strong> - zmienia interwał dead.</li>
<li><strong>ip route 0.0.0.0 0.0.0.0 <em>[next-hop-address | exit-interface]</em></strong> - domyślna trasa statyczna</li>
<li><strong>default-information originate</strong> - nakazuje routerowi być źródłem informacji o trasie domyślnej i propagowanie statycznej trasy domyślnej w aktualizacjach OSPF.</li>
<li><strong>show ip interface brief</strong> - sprawdza, czy żądane interfejsy są aktywne z poprawnym adresowaniem IP.</li>
<li><strong>show ip route</strong> - sprawdza, czy tablica routingu zawiera wszystkie oczekiwane trasy.</li>
</ul>
<h2 id="koszt-jako-metryka-w-ospf">6. Koszt jako metryka w OSPF</h2>
<p>Protokoły routingu używają <strong>metryki</strong> w celu wyznaczenia najlepszej trasy dla pakietu przez sieć. <strong>Metryka</strong> jest miarą nakładu wymaganego do przesłania pakietu przez dany interfejs.</p>
<p>Protokół OSPF używa jako metryki <strong>kosztu ścieżki</strong>. Im niższy koszt, tym lepsza trasa do celu.</p>
<p><strong>Koszt = referencyjna szerokość pasma / szerokość pasma interfejsu</strong></p>
<p>Wartość kosztu OSPF musi być <strong>liczbą całkowitą</strong>.</p>
<figure>
<img src="img/5.png" alt="" /><figcaption>Domyślne koszty OSPF na urządzeniach Cisco</figcaption>
</figure>
<figure>
<img src="img/6.png" alt="" /><figcaption>Koszt OSPF przy referencyjnej szerokości pasma dostosowanej do obsługi łączy 10 Gigabit Ethernet</figcaption>
</figure>
<h2 id="interwały-pakietów-hello">7. Interwały pakietów Hello</h2>
<p>Pakiety OSPFv2 Hello są wysyłane co 10 sekund.</p>
<p><strong>Interwał Dead</strong> to okres, przez jaki router będzie czekał na odbiór pakietu Hello, zanim zadeklaruje, że sąsiad jest wyłączony. (W Cisco domyślnie jest to 4-krotność interwału Hello, czyli 10 sek).</p>
<h2 id="propagowanie-domyślnej-trasy-statycznej-w-opsfv2">8. Propagowanie domyślnej trasy statycznej w OPSFv2</h2>
<p><strong>Router brzegowy (router bramy)</strong> - to router podłączony do Internetu, który powinien propagować domyślną trasę do innych routerów w lokalnej sieci.</p>
<p><strong>Router brzegowy systemu autonomicznego (Autonomous System Boundary Router, ASBR)</strong> - router, który znajduję się pomiędzy domeną routingu OSPF a siecią bez OSPF.</p>
<h2 id="źródła-uzupełniające">9. Źródła uzupełniające</h2>
<ul>
<li>https://www.youtube.com/watch?v=kfvJ8QVJscc</li>
<li>https://www.youtube.com/watch?v=PIMnj2oqYIo</li>
</ul>
<h1 id="iii.-koncepcje-bezpieczeństwa-sieci">III. Koncepcje bezpieczeństwa sieci</h1>
<figure>
<img src="img/7.png" alt="" /><figcaption>Pojęcia bezpieczeństwa</figcaption>
</figure>
<h2 id="wektory-ataków-sieciowych">1. Wektory ataków sieciowych</h2>
<p><strong>Wekor ataku</strong> - to ścieżka, dzięki której podmiot zagrożenia może uzyskać dostęp do serwera, hosta lub sieci. Wektory mogą pochodzić ze zewnątrz lub wewnąrz.</p>
<h2 id="typy-hakerów">2. Typy hakerów</h2>
<figure>
<img src="img/8.png" alt="" /><figcaption>Typy hakerów</figcaption>
</figure>
<h2 id="terminy-dotyczące-hackingu">3. Terminy dotyczące hackingu</h2>
<figure>
<img src="img/9.png" alt="" /><figcaption>Terminu dotyczące hackingu</figcaption>
</figure>
<h2 id="narzędzia-do-testowania-penetracji">4. Narzędzia do testowania penetracji</h2>
<figure>
<img src="img/10.png" alt="" /><figcaption>Narzędzia do testowania penetracji</figcaption>
</figure>
<h2 id="typy-ataków">5. Typy ataków</h2>
<figure>
<img src="img/11.png" alt="" /><figcaption>Typy ataków</figcaption>
</figure>
<h2 id="rodzaje-złośliwego-oprogramowania">6. Rodzaje złośliwego oprogramowania</h2>
<h3 id="wirus">6.1. Wirus</h3>
<p>Rozprzestrzeniania się i infekuje inne komputery po wykonaniu przez użytkownika określonego działania.</p>
<figure>
<img src="img/33.png" alt="" /><figcaption>Rodzaje wirusów</figcaption>
</figure>
<h3 id="koń-trojański">6.2. Koń trojański</h3>
<p>Program, który wygląda na przydatny, ale zawiera złośliwy kod.</p>
<figure>
<img src="img/34.png" alt="" /><figcaption>Rodzaje koni trojańskich</figcaption>
</figure>
<h2 id="rekonesans">7. Rekonesans</h2>
<p>To zbieranie informacji. Podmioty zagrożenia wykorzystują ataki rozpoznawcze do nieautoryzowanego wykrywania i mapowania systemów, usług lub podatności. Ataki rozpoznawcze poprzedzają ataki dostępu lub ataki DoS.</p>
<figure>
<img src="img/35.png" alt="" /><figcaption>Techniki rekonesansu</figcaption>
</figure>
<h2 id="ataki-dostępu">8. Ataki dostępu</h2>
<p>Celem tego typu ataku jest uzyskanie dostępu do dkont internetowych, poufnych baz danych i innych poufnych informacji.</p>
<h3 id="ataki-na-hasło">8.1. Ataki na hasło</h3>
<p>Próba odkrycia krytycznego hasła systemowego przy użyciu różnych moetd.</p>
<h3 id="ataki-fałszowania">8.2. Ataki fałszowania</h3>
<p>Próba pozowania jako inne urządzenie poprzez fałszowanie danych tj. adres IP, adres MAC czy fałszowanie DHCP.</p>
<h3 id="wykorzystanie-zaufania">8.3. Wykorzystanie zaufania</h3>
<p>Polega na korzystaniu z nieautoryzowanych uprawnień w celu uzyskania dostępu do systemu, co może zagrozić celowi.</p>
<figure>
<img src="img/3.8.3.png" alt="" /><figcaption>Wykorzystanie zaufania</figcaption>
</figure>
<h3 id="przekierowanie-portów">8.4. Przekierowanie portów</h3>
<p>Podmiot zagrożenia używa zagrożonego systemu jako bazy ataków na inne cele. <img src="img/4.8.4.png" alt="Przekierowanie portów" /></p>
<h3 id="atak-man-in-the-middle">8.5. Atak Man-in-the-middle</h3>
<p>Podmiot zagrożenia umieszczony jest pomiędzy dwoma uprawnionymi podmiotami w celu odczytania lub modyfikowania danych przekazywanych między dwoma stronami. <img src="img/4.8.5.png" alt="Przekierowanie portów" /></p>
<h3 id="przepełnienie-bufora">8.6. Przepełnienie bufora</h3>
<p>Aktor zagrożenia wykorzystuje pamięć bufora i przytłacza ją nieoczekiwanymi wartościami. Zwykle powoduje to, że system nie działa, tworząc atak DoS.</p>
<h2 id="ataki-socjotechniczne">9. Ataki socjotechniczne</h2>
<p><strong>Socjotechnika</strong> jest atakiem polegającym na próbie nakłonienia ludzi do wykonania określonych działań lub ujawnienia poufnych informacji.</p>
<figure>
<img src="img/36.png" alt="" /><figcaption>Rodzaje ataków socjotechnicznych</figcaption>
</figure>
<h2 id="ataki-dos-i-ddos">10. Ataki DoS i DDoS</h2>
<p><strong>Atak odmowy usług (Denial of Service)</strong> powoduje przerwanie świadczenia usług sieciowych.</p>
<h3 id="główne-typy-ataków-dos">10.1. Główne typy ataków DoS</h3>
<ul>
<li><strong>Przytłaczająca ilość ruchu</strong> - wysyłanie ogromnej ilości danych z szybkością, której host nie może obsłużyć. Powoduje to spowolnienie czasu transmisji i reakcji, a także awarię urządzenia lub usługi.</li>
<li><strong>Złośliwie sformatowane pakiety</strong> - wysyłanie złośliwie sformatowanych pakietów do hosta, których nie może on obsłużyć.</li>
</ul>
<p><strong>Rozproszony atak DoS (Distributed DoS, DDoS)</strong> - podobny do DoS, lecz pochodzi z wielu skoordynowanych ze sobą urządzeń.</p>
<h2 id="ataki-ip">11. Ataki IP</h2>
<figure>
<img src="img/37.png" alt="" /><figcaption>Techniki ataku na IP</figcaption>
</figure>
<h2 id="ataki-na-icmp">12. Ataki na ICMP</h2>
<p>Aktorzy zagrożeń wykorzystują ICMP do ataków rozpoznawczych i skanowania oraz ataków DoS.</p>
<figure>
<img src="img/38.png" alt="" /><figcaption>Typowe komunikaty ICMP używane przez hakerów</figcaption>
</figure>
<h2 id="ataki-wzmacniania-i-obijania">13. Ataki wzmacniania i obijania</h2>
<p>Technika ta nazywana jest <strong>atakiem smurfowym</strong> i jest wykorzystywana do przytłaczania docelowego hosta.</p>
<figure>
<img src="img/39.png" alt="" /><figcaption>Atak smurfowy</figcaption>
</figure>
<h2 id="ataki-fałszowania-1">14. Ataki fałszowania</h2>
<p>Podmiot zagrożenie tworzy pakiety z fałszywymi źródłowymi informacjami adresowymi IP, aby ukryć tożsamość nadawcy lub pozować innego uprawnionego użytkownika.</p>
<p>Ataki fałszowania mogą być nieślepe lub ślepe:</p>
<ul>
<li><strong>Nieślepe fałszowanie</strong> - haker może zobaczyć ruch między hostem a celem.</li>
<li><strong>Ślepe fałszowanie</strong> - haker nie widzi ruchu między hostem a celem. Jest używane w atakach DoS.</li>
</ul>
<h2 id="usługi-tcp">15. Usługi TCP</h2>
<ul>
<li><strong>Niezawodne dostarczanie</strong></li>
<li><strong>Kontrola przepływu</strong> - potwierdzanie wiele segmentów jednym segment potwierdzenia.</li>
<li><strong>Komunikacja stanowa</strong> - występuje między podczas uzgadniania trójetapowego TCP (three-way handshake), które otwiera połączenie TCP.</li>
</ul>
<figure>
<img src="img/40.png" alt="" /><figcaption>Three-way handshake</figcaption>
</figure>
<h2 id="ataki-na-tcp">16. Ataki na TCP</h2>
<ul>
<li><p><strong>Atak TCP SYN Flood</strong> <img src="img/41.png" alt="TCP SYN Flood" /></p></li>
<li><p><strong>Atak TCP RESET</strong>- służy do przerwania komunikacji TCP między dwoma hostami.</p></li>
</ul>
<figure>
<img src="img/42.png" alt="" /><figcaption>Zakończenie połączenia TCP</figcaption>
</figure>
<ul>
<li><strong>Przejęcie sesji TCP</strong> - aktor zagrożenia przejmuje uwierzytelnionego hosta, gdy komunikuje się z celem. Haker fałszuje adres IP jednego hosta, przewiduje następny numer sekwencji i wysyła ACK do drugiego hosta. Jeżeli atak się powiedzie, podmiot zagrożenia może wysyłać, ale nie odbierać dane z urządzenia docelowego.</li>
</ul>
<h2 id="ataki-na-udp">17. Ataki na UDP</h2>
<ul>
<li><strong>Atak zalewania UDP</strong> - haker używa narzędzia tj. <strong>UDP Unicorn</strong> czy <strong>Low Orbit Ion Cannon</strong>. Narzędzie te zalewają pakietami UDP. Program wyszukuje zamknięte porty, na co serwer odpowiada komunikatem ICMP o nieosiągalnym porcie (większość portów na serwerze jest zamkniętych, co powoduje duży ruch na segmencie).</li>
</ul>
<h2 id="zatruwanie-arp">18. Zatruwanie ARP</h2>
<p>Może być używane do uruchamiania różnych ataków <strong>man-in-the-middle</strong>. Wysyłając fałszywe gratisowe odpowiedzi ARP zawierające swój adres MAC dla wskazanych adresów IP docelowych zmienia on pamięć podręczną ARP urządzeń i stawia się między ofiarą, a wszystkimi innymi systemami w sieci.</p>
<h3 id="rodzaje-zatrucia-arp">18.1. Rodzaje zatrucia ARP</h3>
<ul>
<li><strong>bierne</strong> - polega na kradzieży poufnych informacji.</li>
<li><strong>aktywne</strong> - polega na modyfikacji przesyłanych danych.</li>
</ul>
<h2 id="ataki-na-dns">19. Ataki na DNS</h2>
<ul>
<li><strong>Ataki DNS typu open resolver</strong>
<ul>
<li><strong>Ataki zatrucia pamięci podręcznej DNS</strong> - wysyłanie sfałszowanych informacji dotyczących zawartości rekordu do sererwa odwzorowania DNS w przekierowania użytkowników na złośliwe stsrony.</li>
<li><strong>Ataki wzmacniania i odbijania DNS</strong> - haker wysyła zapytania DNS na które otwarty system odwzorowania odpowiada.</li>
<li><strong>Ataki wykorzystania zasobów DNS</strong> - atak DoS, który zużywa zasoby otwartych systemów odwzorowania DNS.</li>
</ul></li>
<li><strong>Ataki z ukrycia DNS</strong> - celem jest ukrycie swojej tożsamości. Techniki z ukrycia DNS:
<ul>
<li><strong>Fast Flux</strong> - adres IP DNS złośliwego serwera jest stale zmieniany w ciągu kilku minut, co pozwala na jego ukrycie.</li>
<li><strong>Double IP Flux</strong> - używany do szybkiej zmiany nazwy hosta na mapowanie adresu IP, a także do zmainy autorytatwynwego serwera nazw. Zwiększ to trudność identyfikacji źródła ataku.</li>
<li><strong>Algorytmy generowania domen</strong> - losowe generowania nazwy domen, które mogą być używane jako punkty spotkań dla ich serwerów komend i sterowania (CnC).</li>
</ul></li>
<li><strong>Ataki cieniowania domeny DNS</strong> - polega na zbieraniu poświadczeń konta domeny przez podmiot zagrożenia, aby po cichu utworzyć wiele pod-domen, które mają być używane podczas ataków.</li>
</ul>
<h2 id="tunelowanie-dns">20. Tunelowanie DNS</h2>
<p>Haker umieszcza ruch inny niż DNS w ruchu DNS. Metoda ta często omija rozwiązania zabezpieczające, gdy podmiot zagrożenia chce komunikować się z botami wewnątrz chronionej sieci lub wyeksportować dane z organizacji.</p>
<h3 id="proces-tunelowania-dns">20.1. Proces tunelowania DNS</h3>
<figure>
<img src="img/43.png" alt="" /><figcaption>Tunelowanie DNS</figcaption>
</figure>
<h2 id="ataki-na-dhcp">21. Ataki na DHCP</h2>
<ul>
<li><strong>Atak fałszowania DHCP</strong> - obcy serwer DHCP dostarcza fałszywych parametrów konfiguracji IP uprawinonym klientom. Może on dostarczać informacji tj.
<ul>
<li><strong>Brama domyślna</strong> - nieprawidłowa brama lub adres IP swojego hosta, aby utworzyć MITM.</li>
<li><strong>Niewłaściwy serwer DNS</strong> - aby kierować użytkowników na złośliwą stronę internetową.</li>
<li><strong>Zły adres IP</strong> - haker zapewnia nieprawidłowe dane, a następnie tworzy atak DoS na klienta DHCP.</li>
</ul></li>
</ul>
<h2 id="triada-pid">22. Triada PID</h2>
<ul>
<li><strong>Poufność</strong> - tylko upoważnione osoby, podmioty lub procesy mogą uzyskać dostęp do poufnych informacji.</li>
<li><strong>Integralność</strong> - odnosi się do ochrony danych przed nieautoryzowanymi zmianami.</li>
<li><strong>Dostępność</strong> - autoryzowani użytkownicy muszą mieć nieprzerwany dostęp do ważnych zasobów i danych. Wymaga wdrożenia nadmiarowych usług, bram i łączy.</li>
</ul>
<h2 id="urządzenia-i-usługi-zabezpieczające">23. Urządzenia i usługi zabezpieczające</h2>
<ul>
<li><strong>VPN</strong></li>
<li><strong>ASA Firewall</strong> - dedykowane urzadzenia zapewniające stanowe usługi zapory. Sprawia, że ruch zewnętrzny nie może inicjować połączeń do wewnętrznych hostów.</li>
<li><strong>IPS (Intrusion Prevention System)</strong> - system zapobiegania włamaniom, monitrouje ruch przychodzący i wychodzący oraz zatrzumuje rozpoznane zagrożenia.</li>
<li><strong>ESA/WSA</strong> - urządzenia zabezpieczające e-mail filtruje span i podejrzane wiadomości e-mail. Urządzenie zabezpieczające sieci Web filtruje znane i podejrzane strony internetowe złośliwego oprogramowania.</li>
<li><strong>Serwer AAA</strong> - zawiera informacje, kto jest upoważniony do dostepu i zarządzania urządzeniami sieciowymi.</li>
</ul>
<h2 id="zapory">24. Zapory</h2>
<p><strong>Zapora</strong> jest systemem lub grupą systemów, która wymusza politykę kontroli dostępu między sieciami.</p>
<h2 id="ips">25. IPS</h2>
<p><strong>IDS</strong> - Intrusion Detection System <strong>IPS</strong> - Intrusion Prevension System</p>
<p>Wykrywają one wzorce ruchu sieciowego za pomocą <strong>sygnatur</strong>. <strong>Sygnatura</strong> to zestaw reguł używanych do wykrywania złośliwej aktywności.</p>
<h2 id="urządzenia-bezpieczeństwa-treści">26. Urządzenia bezpieczeństwa treści</h2>
<p><strong>Cisco Email Security Appliance (ESA)</strong> przeznaczone do monitorowania Simple Mail Transfer Protocol (SMTP).</p>
<p><strong>Cisco Web Security Appliance (WSA)</strong> to technologia ograniczania zagrożeń internetowych.</p>
<h2 id="elementy-bezpiecznej-komunikacji">27. Elementy bezpiecznej komunikacji:</h2>
<ul>
<li><strong>Integralność danych</strong> - gwarantuje, że komunikat nie został zmieniony. Wszelkie zmiany w tranzycei zostaną wykryte.</li>
<li><strong>Uwierzytelnianie pochodzenia</strong> - gwarantuje, że wiadomość nie jest sfałszowana i pochodzi od właściwej osoby.</li>
<li><strong>Poufnych danych</strong> - tylko autoryzowani użytkownicy mogą odczytać wiadomość.</li>
<li><strong>Niezaprzeczalność danych</strong> - nadawca nie może odrzucić lub zaprzeczyć ważności wysłanej wiadomości.</li>
</ul>
<h2 id="integralność-danych">28. Integralność danych</h2>
<p><strong>Funkcje skrótu</strong> są wykorzystywane w celu zapewnienia integralności wiadomości. Gwarantują one, że dane wiadomości nie uległy zmianie przypadkowo lub celowo.</p>
<h3 id="trzy-znane-funkcje-skrótu">28.1. Trzy znane funkcje skrótu</h3>
<ol type="a">
<li><strong>MD5 z 128-bitowym odciskiem</strong> - funkcja jednokierunkowa, która generuje 128-bitowy skrócony komunikat. Lepszym rozwiązaniem jest SHA-2.</li>
<li><strong>Algorytm skrótu SHA</strong> - wersja SHA-1 i SHA-2.</li>
</ol>
<p><strong>Funkcje skrótu (mieszanie)</strong> są podatne na MITM i niez apewnia bezpieczeństwa przesyłanych danych.</p>
<h2 id="uwierzytelnianie-pochodzenia">29. Uwierzytelnianie pochodzenia</h2>
<p>Aby dodać uwierzytelnianie do zapewnienia integralności można użyć <strong>kodu uwierzytelniania wiadomości z kluczem skrótu (HMAC)</strong>. HMAC wykorzystuje dodatkowy klucz tajny jako wejście dla funkcji skrótu.</p>
<h2 id="poufność-danych">30. Poufność danych</h2>
<p>Do zapewnienia poufności danych używane są dwie klasy szyfrowania: <strong>symetryczne</strong> i <strong>asymetryczne</strong>.</p>
<figure>
<img src="img/44.png" alt="" /><figcaption>Porównanie klas szyfrowania</figcaption>
</figure>
<h3 id="szyfrowanie-symetryczne">30.1. Szyfrowanie symetryczne</h3>
<figure>
<img src="img/45.png" alt="" /><figcaption>Znane symetryczne algorytmy szyfrowania</figcaption>
</figure>
<p><strong>Szyfr strumieniowy</strong> szyfruje jeden bajt lub jeden bit na raz.</p>
<h3 id="szyfrowanie-asymetryczne">30.2. Szyfrowanie asymetryczne</h3>
<p>Algorytmy asymetryczne używają <strong>klucza publicznego</strong> i <strong>klucza prywatnego</strong>.</p>
<p>Przykłady protokołów wykorzystujących szyfrowanie asymtryczne:</p>
<ul>
<li><strong>Internet Key Exchange (IKE)</strong></li>
<li><strong>Secure Socket Layer (SSL)</strong></li>
<li><strong>Secure Shell (SSH)</strong></li>
<li><strong>Pretty Good Privacy (PGP)</strong></li>
</ul>
<figure>
<img src="img/46.png" alt="" /><figcaption>Znane asymetryczne algorytmy szyfrowania</figcaption>
</figure>
<h2 id="diffie-hellman-dh">31. Diffie-Hellman (DH)</h2>
<p>Asymetryczny algorytm matemyczny, w którym dwa PC generują <strong>identyczny klucz tajny bez komunikowania się ze sobą</strong>.</p>
<p><strong>DH jest używany w:</strong></p>
<ul>
<li>VPN IPSec</li>
<li>SSL, TLS</li>
<li>SSH</li>
</ul>
<h1 id="iv.-koncepcje-acl">IV. Koncepcje ACL</h1>
<h2 id="lista-acl">1. Lista ACL</h2>
<p>Lista kontroli dostępu to seria poleceń IOS używanych do <strong>filtrowania pakietów na podstawie informacji w nagłówku</strong>. Lista ACL używa sekwencyjnyej listy instrukcji zezwalania lub odmowy, zwanych <strong>wpisami kontroli dostępu</strong> (ACE; często również nazywanych regułami ACL).</p>
<h3 id="filtrowanie-ramek">1.1 Filtrowanie ramek</h3>
<p>Proces, w których router porównuje informacje zawarte w pakiecie ze wpisami ACE.</p>
<h3 id="zadanie-acl">1.2. Zadanie ACL</h3>
<ul>
<li>Ograniczanie ruchu w celu zwiększenia wydajności</li>
<li>Zapewnienia kontroli przepływu</li>
<li>Zapewnienie podstawowych zabezpieczeń</li>
<li>Filtrowanie ruchu w oparciu o typ ruchu</li>
<li>Kontrolowanie hostów aby zezwolić lub zablokować dostęp do usług sieciowych</li>
<li>Zapewnienie priorytetu określonym klasom ruchu sieciowego</li>
</ul>
<h3 id="filtrowanie-pakietów-w-modelu-isoosi">1.3. Filtrowanie pakietów w modelu ISO/OSI</h3>
<h4 id="typy-list-acl">1.3.1 Typy list ACL</h4>
<ul>
<li><strong>Standardowe ACL</strong> - ACL filtruje tylko w warstwie 3 przy użyciu źródłowego adresu IPv4.</li>
<li><strong>Rozszerzone ACL</strong> - ACL filtruje w warstwie 3 przy użyciu źródłowego i/lub docelowego IP. Mogą również filtrować w warstwie 4 przy użyciu portów TCP, UDP i opcjonalnych informacji o typie protokołu.</li>
</ul>
<figure>
<img src="img/1.3.1.png" alt="" /><figcaption>ACL w modelu OSI</figcaption>
</figure>
<h3 id="wejściowa-i-wyjściowa-lista-acl">1.4. Wejściowa i wyjściowa lista ACL</h3>
<ul>
<li><p><strong>Wejściowa lista ACL</strong> - filtruje pakiety, zanim zostaną skierowane do interfejsu wychodzącego. Jeśli pakiet jest dopuszczony przez listę ACL, jest następnie przekazywany do routingu. Najlepiej się sprawdza kiedy sieć dołączona do interfejsu wejściowego jest jedynym źródłem pakietów, które mają być filtrowane.</p></li>
<li><p><strong>Wyjściowa lista ACL</strong> - filtruje pakiety wychodzące, po przetworzeniu ich w procesiue routingu, niezależnie od użytego interfejsu wejściowego. Takie podejście jest najbardziej użyteczne w sytuacji, gdy te same reguły filtrowania mają być zastosowane do pakietów przychodzących z wielu interfejsów wejściowych, zanim opuszczą interfejs wyjściowy.</p></li>
</ul>
<h3 id="sposób-działania-standardowej-listy-acl">1.5. Sposób działania standardowej listy ACL</h3>
<ol type="a">
<li>Router wyodrębnia źródłowy adres IPv4 z nagłówka pakietów.</li>
<li>Router rozpoczyna od góry listy ACL i porównuje źródłowy adres IPv4 z każdym wpisem ACE w kolejności sekwencyjnej.</li>
<li>Po dokonaniu dopasowania router wykonuje instrukcję, zezwalając na pakiet lub odmawiając mu, a pozostałe wpisy ACE w ACL, jeśli takie istnieją, nie są analizowane.</li>
<li>Jeśli źródłowy adres IPv4 nie pasuje do żadnego ACE w ACL, pakiet zostanie odrzucony, ponieważ istnieje ACE niejawnej odmowy automatycznie zastosowany we wszystkich ACL.</li>
</ol>
<p><strong>Jeśli ACL nie zaiwera instrukcji zezwolenia, domyślnie odmawia się całego ruchu.</strong></p>
<p>Niejawny wpis <strong>deny any</strong> odrzuca kazdy pakiet, który nie pasuje do żadnego poprzedniego wpisu ACE.</p>
<h2 id="maski-blankietowe">2. Maski blankietowe</h2>
<p><strong>Wpis ACE</strong> dla IPv4 używa 32-bitowej <strong>maski blankietowej</strong>, aby określić, które bity adresu mają zostać zbadane pod kątem dopasowania. Maski blankietowe są również używane przez protokół <a href="#maska-blankietowa-wildcard-mask">Open Shortest Path First (OSPF)</a>.</p>
<h3 id="reguły-dopasowania-masek-blankietowych">2.1. Reguły dopasowania masek blankietowych</h3>
<ul>
<li><strong>Bit 0 maski blankietowej</strong> - dopasowuje odpowiednią wartość bitu w adresie.</li>
<li><strong>Bit 1 maski blankietowej</strong> - ignoruje odpowiednią wartość bitu w adresie</li>
</ul>
<h3 id="typy-masek-blankietowych">2.2. Typy masek blankietowych</h3>
<ul>
<li><strong>Maska blankietowa dopasowana do hosta</strong> - używana do dopasowania określonego adresu IPv4 hosta. (jest równa 0.0.0.0)</li>
<li><strong>Maska blankietowa dopasowana do podsieci</strong> - odwrócona maska podsieci.</li>
<li><strong>Maska blankietowa dopasowania zakresu adresów IPv4</strong></li>
</ul>
<h3 id="obliczanie-maski-blankietowej">2.3. Obliczanie maski blankietowej</h3>
<figure>
<img src="img/4.2.3.1.png" alt="" /><figcaption>Przykład 1</figcaption>
</figure>
<figure>
<img src="img/4.2.3.2.png" alt="" /><figcaption>Przykład 2</figcaption>
</figure>
<figure>
<img src="img/4.2.3.3.png" alt="" /><figcaption>Przykład 3</figcaption>
</figure>
<figure>
<img src="img/4.2.3.3.png" alt="" /><figcaption>Przykład 4</figcaption>
</figure>
<h3 id="słowa-kluczowe-w-maskach-blankietowych">2.4. Słowa kluczowe w maskach blankietowych</h3>
<p>Aby uprościć korzystanie z masek blankietowych Cisco IOS udostępnia dwa słowa kluczowe:</p>
<ul>
<li><strong>host</strong> - zastępuje maskę 0.0.0.0 (filtruje tylko jeden adres hosta).</li>
<li><strong>any</strong> - zastępuje maskę 255.255.255.255 (pasuje do każdego adresu).</li>
</ul>
<h2 id="wytyczne-tworzenia-acl">3. Wytyczne tworzenia ACL</h2>
<h3 id="ograniczona-liczba-acl-na-interfejs">3.1. Ograniczona liczba ACL na interfejs</h3>
<p>Konkretny interfejs routera może mieć:</p>
<ul>
<li>jeden wychodzący IPv4 ACL</li>
<li>jeden przychodzący IPv4 ACL</li>
<li>jeden przychodzący IPv6 ACL</li>
<li>jeden wychodzący IPv6 ACL</li>
</ul>
<h3 id="najlepsze-praktyki">3.2. Najlepsze praktyki</h3>
<figure>
<img src="img/4.3.2.png" alt="" /><figcaption>Najlepsze praktyki ACL</figcaption>
</figure>
<h3 id="kolejność-instrukcji-acl">3.3. Kolejność instrukcji ACL</h3>
<p>Najbardziej szczegółowe instrukcje ACL należy wprowadzić jako pierwsze ze względu na odgórny, sekwencyjny charakter list ACL.</p>
<h2 id="numerowane-i-nazwane-acl">4. Numerowane i nazwane ACL</h2>
<h3 id="numerowane-acl">4.1. Numerowane ACL</h3>
<p>Listy ACL o numerach od 1 do 99 lub od 1300 do 1999 to standardowe listy ACL, podczas gdy listy ACL o numerach od 100 do 199 lub od 2000 do 2699 to rozszerzone listy ACL.</p>
<h3 id="nazwane-acl">4.2. Nazwane ACL</h3>
<p>Nazwane ACL są preferowaną metodą użycia podczas konfigurowania ACL.</p>
<p><strong>Poniżej przedstawiono podsumowanie zasad, które należy przestrzegać dla nazwanych ACL:</strong> - Przypisz nazwę w celu identyfikowania listy ACL. - Nazwy mogą zawierać znaki alfanumeryczne. - Nazwy nie mogą zawierać spacji ani znaków interpunkcyjnych. - Sugeruje się, aby nazwę pisać WIELKIMI LITERAMI. - Wewnątrz listy ACL wpisy mogą być dodawane lub usuwane.</p>
<h2 id="umieszczanie-listy-acl">5. Umieszczanie listy ACL</h2>
<p><strong>Rozszerzone listy ACL</strong> powinny znajdować się jak najbliżej źródła ruchu, który ma być filtrowany.</p>
<p><strong>Standardowe ACL</strong> powinny znajdować się jak najbliżej miejsca docelowego.</p>
<h3 id="czynniki-wpływające-na-umieszczenie-acl">5.1. Czynniki wpływające na umieszczenie ACL</h3>
<figure>
<img src="img/4.5.1.png" alt="" /><figcaption>Czynniki wpływające na umieszczenie ACL</figcaption>
</figure>
<h2 id="źródła-uzupełniające-1">6. Źródła uzupełniające</h2>
<ul>
<li><a href="https://www.youtube.com/watch?v=vMshgkItW5g">https://www.youtube.com/watch?v=vMshgkItW5g</a></li>
</ul>
<h1 id="v.-konfiguracja-acl">V. Konfiguracja ACL</h1>
<h2 id="konfiguracja-standardowych-list-acl-ipv4">1. Konfiguracja standardowych list ACL IPv4</h2>
<h3 id="standardowa-numerowana-acl">1.1. Standardowa numerowana ACL</h3>
<pre><code>Router(config)# access-list access-list-number {deny | permit | remark text} source [source-wildcard] [log]</code></pre>
<figure>
<img src="img/5.1.1.png" alt="" /><figcaption>Wyjaśnienie składni standardowej listy ACL</figcaption>
</figure>
<h3 id="standardowa-nazywana-acl">1.2. Standardowa nazywana ACL</h3>
<pre><code>Router(config)# ip access-list standard access-list-name</code></pre>
<h3 id="stosowanie-standardowych-list-acl-ipv4">1.3. Stosowanie standardowych list ACL IPv4</h3>
<pre><code>Router(config-if) # ip access-group {access-list-number | access-list-name} {in | out}</code></pre>
<p>Komenda wywołana w <strong>trybie konfiguracji interfejsu</strong>.</p>
<h2 id="modyfikowanie-list-acl-ipv4">2. Modyfikowanie list ACL IPv4</h2>
<h3 id="dwie-metody-modyfikacji-acl">2.1. Dwie metody modyfikacji ACL</h3>
<h4 id="metoda-edytora-tekstu">2.1.1. Metoda edytora tekstu</h4>
<figure>
<img src="img/5.2.1.1.png" alt="" /><figcaption>Metoda edytora tekstu</figcaption>
</figure>
<h4 id="metoda-numerów-sekwencyjnych">2.1.2. Metoda numerów sekwencyjnych</h4>
<figure>
<img src="img/5.2.1.2.png" alt="" /><figcaption>Metoda numerów sekwencyjnych</figcaption>
</figure>
<h3 id="statystyki-acl">2.2. Statystyki ACL</h3>
<figure>
<img src="img/5.2.2.png" alt="" /><figcaption>Statystyki ACL</figcaption>
</figure>
<p>Polecenie <strong>show access-lists</strong> wyświetla liczbędopasowań dla poszczególnych wpisów.</p>
<p>Polecenie <strong>clear access-list counters</strong> czyści statystyki ACL.</p>
<h2 id="zabezpieczanie-portów-vty-przy-pomocy-standardowej-acl-ipv4">3. Zabezpieczanie portów VTY przy pomocy standardowej ACL IPv4</h2>
<h3 id="polecenie-access-class">3.1. Polecenie access-class</h3>
<pre><code>R1(config-line)# access-class {access-list-number | access-list-name} { in | out } </code></pre>
<p>Polecenie <strong>access-class</strong> stosujemy podczas konfigurowania linii vty.</p>
<p>Słowo kluczowe <strong>in jest najczęściej używaną opcją</strong> filtrowania przychodzącego ruchu vty. Parametr <strong>out</strong> filtruje wychodzący ruch vty i <strong>jest rzadko stosowany</strong>.</p>
<h3 id="przykład-zabezpieczania-dostępu-vty">3.2. Przykład zabezpieczania dostępu VTY</h3>
<figure>
<img src="img/5.3.2.png" alt="" /><figcaption>Przykład zabezpieczania dostępu VTY</figcaption>
</figure>
<h2 id="konfiguracja-rozszerzonych-list-acl-ipv4">4. Konfiguracja rozszerzonych list ACL IPv4</h2>
<h3 id="rozszerzona-numerowana-lista-acl-ipv4">4.1. Rozszerzona numerowana lista ACL IPv4</h3>
<h4 id="składnia-polecenia">4.1.1. Składnia polecenia</h4>
<pre><code>Router(config)# access-list access-list-number {deny | permit | remark text} protocol source source-wildcard [operator {port}] destination destination-wildcard [operator {port}] [established] [log]</code></pre>
<h4 id="stosowanie">4.1.2. Stosowanie</h4>
<figure>
<img src="img/5.4.1.2.png" alt="" /><figcaption>Stosowanie numerowanej rozszerzonej listy ACL IPv4</figcaption>
</figure>
<h3 id="rozszerzona-acl-z-opcją-established-tcp">4.2. Rozszerzona ACL z opcją Established TCP</h3>
<p>Słowo kluczowe establish umożliwia wychodzenie ruchowi z wewnętrznej sieci prywatnej i pozwala powracającemu ruchowi odpowiedzi na wejście do wewnętrznej sieci prywatnej.</p>
<figure>
<img src="img/5.4.2.png" alt="" /><figcaption>Stosowanie słowa kluczowego established</figcaption>
</figure>
<h3 id="rozszerzona-nazywana-lista-acl-ipv4">4.3. Rozszerzona nazywana lista ACL IPv4</h3>
<h4 id="składnia-polecenia-1">4.3.1. Składnia polecenia</h4>
<pre><code>Router(config)# ip access-list extended access-list-name </code></pre>
<h4 id="przykład-nazywanej-rozszerzonej-listy-acl-ipv4">4.3.2. Przykład nazywanej rozszerzonej listy ACL IPv4</h4>
<figure>
<img src="img/5.4.3.2.png" alt="" /><figcaption>Stosowanie słowa kluczowego established</figcaption>
</figure>
<h1 id="vi.-nat-dla-ipv4">VI. NAT dla IPv4</h1>
<h2 id="charakterystyka-nat">1. Charakterystyka NAT</h2>
<h3 id="prywatne-adresy-internetowe-definiowane-w-dokumencie-rfc-1918">1.1. Prywatne adresy internetowe definiowane w dokumencie RFC 1918</h3>
<figure>
<img src="img/6.1.1.png" alt="" /><figcaption>Zakres adresów wewnętrznych z RFC 1918</figcaption>
</figure>
<h3 id="czym-jest-nat">1.2. Czym jest NAT?</h3>
<p>Głównym zastosowaniem <strong>NAT</strong> jest oszczędzanie publicznych adresów IPv4 poprzez <strong>transalcję adresów prywatnych na publiczne</strong>. Dodatkowo <strong>NAT</strong> zwiększa prywatność i bezpieczeństwo sieci, ponieważ ukrywa wewnętrzne adresy IPv4 przez siecami zewnętrznymi.</p>
<h4 id="pula-nat">1.2.1. Pula NAT</h4>
<p>Jeden lub więcej publicznych adresów IPv4, których router z NAT używa do tłumaczenia.</p>
<h4 id="sieć-szczątkowa">1.2.2. Sieć szczątkowa</h4>
<p>Sieć lub sieci z pojedynczym połączeniem z siecią sąsiedzką, jedną drogą do i jedną drogą z sieci. I to właśnie w tych sieciach najczęściej działa router NAT.</p>
<figure>
<img src="img/6.1.2.2.png" alt="" /><figcaption>Sieć szczątkowa</figcaption>
</figure>
<h3 id="terminologia-nat">1.3. Terminologia NAT</h3>
<h4 id="sieć-wewnętrzna-i-zewnętrzna">1.3.1 Sieć wewnętrzna i zewnętrzna</h4>
<p><strong>Sieć wewnętrzna</strong> to zestaw sieci podlegających translacji. <strong>Sieć zewnętrzna</strong> obejmuje wszystkie pozostałe sieci.</p>
<h4 id="rodzaje-adresów">1.3.2. Rodzaje adresów</h4>
<ul>
<li><strong>Adres wewnętrzny</strong> - adres urządzenia podlegającego translacji z użyciem NAT.</li>
<li><strong>Adres zewnętrzny</strong> - adres urządzenia docelowego.</li>
<li><strong>Adres lokalny</strong> - to dowolny adres obecny po wewnętrznej stronie sieci.</li>
<li><strong>Adres globalny</strong> - to dowolny adres obecny po zewnętrznej stronie sieci.</li>
</ul>
<h5 id="podsumowanie">1.3.2.1. Podsumowanie</h5>
<ul>
<li><strong>Adres wewnętrzny lokalny</strong> - adres źródła widziany z perspektywy wnętrza sieci (np. 192.168.10.10).</li>
<li><strong>Adres wewnętrzny globalny</strong> - adres źródła widziany z zewnątrz sieci (np. tłumaczony z 192.168.10.10 na 209.165.200.226)</li>
<li><strong>Adres zewnętrzny globalny</strong> - adres docelowy widziany z zewnątrz sieci.</li>
<li><strong>Adres zewnętrzny lokalny</strong> - adres docelowy widziany z perspektywy wnętrza sieci. Zazwyczaj jest taki sam jak adres zewnętrzny globalny.</li>
</ul>
<figure>
<img src="img/6.1.3.2.1.png" alt="" /><figcaption>Rodzaje adresów</figcaption>
</figure>
<h2 id="typy-nat">2. Typy NAT</h2>
<h3 id="statyczny-nat">2.1. Statyczny NAT</h3>
<p><strong>Statyczna translacja NAT</strong> umożliwia utworzenie odwzorowania typu jeden-do-jednego pomiędzy lokalnymi i globalnymi adresami. Te odwzorowania są konfigurowane przez administratora sieci i pozostają niezmienne. Szczególnie przydatny w serwerach WWW albo urządzeniach, które muszą mieć niezmienny adres.</p>
<h3 id="dynamiczny-nat">2.2. Dynamiczny NAT</h3>
<p><strong>Dynamiczny NAT</strong> przyznaje adresy publiczne obsługując żądania w kolejności zgłoszenia. Kiedy urządzenie wewnętrzne zażąda dostępu do sieci zewnętrznej, <strong>dynamiczny NAT</strong> przypisuje dostępny adres IPv4 z puli.</p>
<h3 id="translacja-pat">2.3. Translacja PAT</h3>
<p><strong>Translacja adresów portów (PAT)</strong>, znana także jako <strong>przeciążenie NAT</strong>, powoduje przekształcenie wielu prywatnych adresów IPv4 na pojedynczy lub klika publicznych adresów IPv4. To właśnie robi większość routerów domowych. Dostawca usług internetowych przypisuje routerowi jeden adres, ale kilku domowników może jednocześnie uzyskać dostęp do Internetu. Jest to najczęstsza forma NAT zarówno dla domu, jak i przedsiębiorstwa.</p>
<p>PAT identyfikuje adres prywatny za pomocą <strong>numeru portu</strong>.</p>
<h4 id="następny-dostepny-port">2.3.1. Następny dostepny port</h4>
<p>Jeżeli numer porty wybrany przez hosta jest już skojarzony z innymi aktywnymi sesjami to PAT przypisuje <strong>pierwszy dostępny numer portu</strong> zaczynając od początku <strong>odpowiedniej grupy portów 0-511, 512-1 023 lub 1024-65 535</strong>. Kiedy zabraknie dostępnych portów, ale jest dostępny więcej niż jeden adres zewnętrzny w puli, mechanizm PAT przechodzi do następnego adresu IP.</p>
<figure>
<img src="img/6.2.3.4.png" alt="" /><figcaption>Następny dostepny port</figcaption>
</figure>
<h4 id="pakiety-bez-segmentu-warstwy-4">2.3.2. Pakiety bez segmentu warstwy 4</h4>
<p>W przypadku pakietu, który nie zawiera numeru portu warstwy 4. tj. jak (ICMPv4) PAT obsługuje je w inny sposób dla każdego protokołu. W komunikatach ICMP wystepuje np. Query ID (identyfikator zapytania), który powiązuje zapytanie z odpowiedzią na nie.</p>
<h4 id="porównanie-nat-i-pat">2.4. Porównanie NAT i PAT</h4>
<figure>
<img src="img/6.2.4.png" alt="" /><figcaption>Porównanie PAT i NAT</figcaption>
</figure>
<h2 id="zalety-i-wady-nat">3. Zalety i wady NAT</h2>
<h3 id="zalety-nat">3.1. Zalety NAT</h3>
<ul>
<li>oszczędzanie adresów</li>
<li>zwiększa elastyczność połączeń z siecią publiczną (wiele pul, pule zapasowe, pule równoważące obciążenie).</li>
<li>zapewnia spójność wewnętrznych schematów adresowania</li>
<li>ukrywanie adresów IPv4 hostów</li>
</ul>
<h3 id="wady-nat">3.2. Wady NAT</h3>
<ul>
<li>mniejsza wydajność, zwiększenie opóźnień przekazywania wynikające z translacji. Carrier Grade NAT proces dwóch warstw tłumaczenia NAT, kiedy pule publicznych adresów dla ISP wyczerpią się. (tłumaczenie z prywatnego na prywatny na publiczny);</li>
<li>utrata adresowania od końca do końca (zasada end-to-end);</li>
<li>komplikuje użycie protokołów tunelowania tj. <a href="#8-koncepcje-vpn-i-ipsec">IPSec</a> (modyfikuje wartości w nagłówkach - niepowodzenie sprawdzania integralności)</li>
<li>usługi wymagające zainicjowania połączeń TCP z sieci zewnętrznych, lub protokoły bezstanowe, np. te wykorzystujące UDP, mogą zostać zakłócone.</li>
</ul>
<h1 id="konfiguracja-nat">4. Konfiguracja NAT</h1>
<h2 id="konfiguracja-statycznego-nat">4.1. Konfiguracja statycznego NAT</h2>
<h3 id="polecenie-ip-nat-inside-source-static">4.1.1. Polecenie ip nat inside source static</h3>
<pre><code>R2(config)# ip nat inside source static wewnętrzny_adres_lokalny wewnęrzny_adres_globalny</code></pre>
<p>Polecenie to tworzy odwzorowanie między wewnętrznym adresem lokalnym (np. 192.168.10.254), a wewnętrznym adresem globalnym (np. 209.165.201.0). Jest to polecenie trybu konfiguracji globalnej.</p>
<h3 id="polecenie-ip-nat">4.1.2. Polecenie ip nat</h3>
<pre><code>R2(config-if)# ip nat [inside | outside]</code></pre>
<p>Polecenie to przypisuje dany interfejs do translacji NAT. Z tego polecenie korzystamy w trybie konfiguracji szczegółowej danego interfesju.</p>
<h3 id="polecenie-show-ip-nat-translations">4.1.3. Polecenie show ip nat translations</h3>
<pre><code>R2# show ip nat translations
Pro  Inside global       Inside local        Outside local         Outside global
tcp  209.165.201.5       192.168.10.254      209.165.200.254       209.165.200.254
---  209.165.201.5       192.168.10.254        ---                   ---
Total number of translations: 2</code></pre>
<p>Polecenie <strong>show ip nat translations</strong> pokazuje aktywne translacje NAT.</p>
<h3 id="polecenie-show-ip-nat-statistics">4.1.4. Polecenie show ip nat statistics</h3>
<pre><code>R2# show ip nat statistics
Total active translations: 1 (1 static, 0 dynamic; 0 extended)
Outside interfaces:
Serial0/1/1
Inside interfaces:
Serial0/1/0
Hits: 0  Misses: 0
(output omitted)</code></pre>
<p>Polecenie <strong>show ip nat statistics</strong> wyświetla informacje o całkowitej liczbie aktywnych tłumaczeń, parametrach konfiguracyjnych NAT, liczbie adresów w puli oraz liczbie przydzielonych adresów.</p>
<h3 id="polecenie-clear-ip-nat-statistics">4.1.5. Polecenie clear ip nat statistics</h3>
<pre><code>R2# clear ip nat statistics</code></pre>
<p>Aby zweryfikować translacje najlepiej wyczyścić statystyki poprzednich translacji za pomocą polecenia <strong>clear ip nat statistics</strong>.</p>
<h2 id="konfiguracja-dynamicznego-nat">4.2. Konfiguracja dynamicznego NAT</h2>
<h3 id="polecenie-ip-nat-pool">4.2.1. Polecenie ip nat pool</h3>
<pre><code>R2(config)# ip nat pool NAT-POOL1 209.165.200.226 209.165.200.240 netmask 255.255.255.224</code></pre>
<p>Polecenie to tworzy pula adresów publicznych wykorzystaywantch do translacji.</p>
<h3 id="polecenie-access-list">4.2.2. Polecenie access-list</h3>
<pre><code>R2(config)# access-list 1 permit 192.168.0.0 0.0.255.255</code></pre>
<p>Konfiguruje standardową liste ACL zawierającą tylko adresy, które mają być poddawane translacji.</p>
<h3 id="polecenie-ip-nat-inside-source-list">4.2.3. Polecenie ip nat inside source list</h3>
<pre><code>R2(config-if)# ip nat inside source list 1 pool NAT-POOL1</code></pre>
<p>Powiązuje liste ACL z pulą.</p>
<h3 id="polecenie-ip-nat-1">4.2.4. Polecenie ip nat</h3>
<p>R2(config-if)# ip nat inside</p>
<p>Określa interfejsy wewnętrzne, zewnętrzne w odniesieniu do NAT.</p>
<h3 id="polecenie-show-ip-nat-translations-1">4.2.5. Polecenie show ip nat translations</h3>
<pre><code>R2# show ip nat translations
Pro Inside global      Inside local       Outside local      Outside global
--- 209.165.200.228    192.168.10.10      ---                ---
--- 209.165.200.229    192.168.11.10      ---                ---
R2#</code></pre>
<p>Wyświetla wszystkie skonfigurowane zamiany adresów.</p>
<pre><code>R2# show ip nat translation verbose
Pro Inside global      Inside local       Outside local      Outside global
tcp 209.165.200.228    192.168.10.10      ---                ---
    create 00:02:11, use 00:02:11 timeout:86400000, left 23:57:48, Map-Id(In): 1, 
    flags: 
none, use_count: 0, entry-id: 10, lc_entries: 0
tcp 209.165.200.229    192.168.11.10      ---                ---
    create 00:02:10, use 00:02:10 timeout:86400000, left 23:57:49, Map-Id(In): 1, 
    flags: 
none, use_count: 0, entry-id: 12, lc_entries: 0
R2#</code></pre>
<p>Dodanie do polecenia opcji <strong>verbose</strong> powoduje wyświetlenie dodatkowych informacji o każdym wpisie w tablicy translacji.</p>
<h3 id="polecenie-ip-nat-translation-timeout">4.2.6. Polecenie ip nat translation timeout</h3>
<pre><code>#R2(config)# ip nat translation timeout timeout-seconds</code></pre>
<p>Domyślnie wpisy translacji wygasają po 24 godzinach, za pomocą tego polecenia możemy ustawić ten czas na inny.</p>
<h3 id="polecenie-clear-ip-nat-translation">4.2.7. Polecenie clear ip nat translation</h3>
<pre><code>R2# clear ip nat translation *
R2# show ip nat translation</code></pre>
<p>Czyszczenie wpisów dynamicznych przed upływem limitu czasu.</p>
<figure>
<img src="img/6.4.2.7.png" alt="" /><figcaption>Opcje polecenia clear ip nat translation</figcaption>
</figure>
<h3 id="polecenie-show-ip-nat-statistics-1">4.2.8. Polecenie show ip nat statistics</h3>
<pre><code>R2# show ip nat statistics 
Total active translations: 4 (0 static, 4 dynamic; 0 extended)
Peak translations: 4, occurred 00:31:43 ago
Outside interfaces:
Serial0/1/1
Inside interfaces: 
Serial0/1/0
Hits: 47  Misses: 0
CEF Translated packets: 47, CEF Punted packets: 0
Expired translations: 5
Dynamic mappings:
-- Inside Source
[Id: 1] access-list 1 pool NAT-POOL1 refcount 4
pool NAT-POOL1: netmask 255.255.255.224
    start 209.165.200.226 end 209.165.200.240
    type generic, total addresses 15, allocated 2 (13%), misses 0
(output omitted)
R2#</code></pre>
<p>Powoduje wyświetlenie informacji o: <strong>całkowitej liczbie aktywnych translacji</strong>, <strong>parametrach konfiguracyjnych NAT</strong>, <strong>liczbie adresów w puli</strong> oraz <strong>liczbie przydzielonych adresów</strong>.</p>
<h2 id="konfiguracja-pat">4.3. Konfiguracja PAT</h2>
<h3 id="konfiguracja-pat-do-używania-pojedynczego-adresu-ipv4">4.3.1. Konfiguracja PAT do używania pojedynczego adresu IPv4</h3>
<pre><code>R2(config)# ip nat inside source list 1 interface serial 0/1/1 overload
R2(config)# access-list 1 permit 192.168.0.0 0.0.255.255
R2(config)# interface serial0/1/0
R2(config-if)# ip nat inside
R2(config-if)# exit
R2(config)# interface Serial0/1/1
R2(config-if)# ip nat outside</code></pre>
<p>Aby skonfigurować PAT wystarczy do polecenia ip nat inside source dodać <strong>słowo kluczowe overload</strong>. Reszta konfiguracji przebiega podobnie do statycznego lub dynamicznego NAT.</p>
<h3 id="konfigurowanie-pat-do-korzystania-z-puli-adresów">4.3.2. Konfigurowanie PAT do korzystania z puli adresów</h3>
<pre><code>R2(config)# ip nat pool NAT-POOL2 209.165.200.226 209.165.200.240 netmask 255.255.255.224
R2(config)# access-list 1 permit 192.168.0.0 0.0.255.255
R2(config)# ip nat inside source list 1 pool NAT-POOL2 overload
R2(config)# 
R2(config)# interface serial0/1/0
R2(config-if)# ip nat inside
R2(config-if)# exit
R2(config)# interface serial0/1/1
R2(config-if)# ip nat outside
R2(config-if)# end
R2#</code></pre>
<p>Aby skonfigurować PAT dla dynamicznej puli adresów NAT ponownie wystarczy dodać <strong>overload</strong> do polecenia ip nat inside source.</p>
<h3 id="weryfikowanie-pat">4.3.3. Weryfikowanie PAT</h3>
<h4 id="polecenie-show-ip-nat-translations-2">4.3.3.1. Polecenie show ip nat translations</h4>
<p>R2# show ip nat translations Pro Inside global Inside local Outside local Outside global tcp 209.165.200.225:1444 192.168.10.10:1444 209.165.201.1:80 209.165.201.1:80 tcp 209.165.200.225:1445 192.168.11.10:1444 209.165.202.129:80 209.165.202.129:80 R2#</p>
<p>Pokazuje translacje z różnych hostów do różnych serwerów WWW.</p>
<h4 id="polecenie-show-ip-nat-statistics-2">4.3.3.2. Polecenie show ip nat statistics</h4>
<pre><code>R2# show ip nat statistics 
Total active translations: 4 (0 static, 2 dynamic; 2 extended)
Peak translations: 2, occurred 00:31:43 ago
Outside interfaces:
Serial0/1/1
Inside interfaces: 
Serial0/1/0
Hits: 4  Misses: 0
CEF Translated packets: 47, CEF Punted packets: 0
Expired translations: 0
Dynamic mappings:
-- Inside Source
[Id: 3] access-list 1 pool NAT-POOL2 refcount 2
pool NAT-POOL2: netmask 255.255.255.224
    start 209.165.200.225 end 209.165.200.240
    type generic, total addresses 15, allocated 1 (6%), misses 0
(output omitted)
R2#</code></pre>
<p>Potwierdza, że NAT-POOL2 dokonała alokacji pojedynczego adresu dla obu translacji. W wyniku zawarta jest informacja o liczbie i typie aktywnych translacji, parametrach konfiguracyjnych NAT, liczbie adresów w puli oraz jak wiele z nich zostało przydzielonych.</p>
<h2 id="nat-dla-ipv6">5. NAT dla IPv6</h2>
<p>Ponieważ wiele sieci używa zarówno IPv4, jak i IPv6, musi istnieć sposób na korzystanie z protokołu IPv6 z NAT.</p>
<p>IPv6 został opracowany, aby wyeliminować konieczność translacji NAT adresów publicznych i prywatnych IPv4. Jednak IPv6 zawiera własną prywatną przestrzeń adresową IPv6, <strong>unikalne adresy lokalne (ULA)</strong>.</p>
<p>Adresy ULA IPv6 są podobne do adresów prywatnych IPv4 RFC 1918, lecz istnieją także istotne różnice. Adresy ULA przeznaczone są <strong>wyłącznie do komunikacji lokalnej w obrębie lokalizacji</strong>. Adresy ULA <strong>nie mają na celu zapewnienia dodatkowej przestrzeni adresowej IPv6</strong> ani <strong>zapewnienia poziomu bezpieczeństwa</strong>.</p>
<p>IPv6 zapewnia translacja protokołów między IPv4 i IPv6 znaną jako <strong>NAT64</strong>.</p>
<p>NAT dla IPv6 jest wykorzystywany w całkowicie odmiennym kontekście niż NAT dla IPv4 i nie jest wykorzystywany do translacji adresów prywatynch IPv6 na globalne IPv6.</p>
<h2 id="źródła-uzupełniające-2">6. Źródła uzupełniające</h2>
<ul>
<li><a href="https://www.youtube.com/watch?v=qij5qpHcbBk">https://www.youtube.com/watch?v=qij5qpHcbBk</a></li>
<li><a href="https://www.youtube.com/watch?v=FTUV0t6JaDA">https://www.youtube.com/watch?v=FTUV0t6JaDA</a></li>
</ul>
<h1 id="vii.-koncepcje-sieci-wan">VII. Koncepcje sieci WAN</h1>
<h2 id="topologie-wan">1. Topologie WAN</h2>
<h3 id="punkt-punkt">1.1. Punkt-punkt</h3>
<h3 id="hub-and-spoke">1.2. Hub-and-spoke</h3>
<p>Umożliwia współużytkowanie pojedynczego interfejsu na routerze centralnym (hub) przez wszystkie routery obwodowe (spoke).</p>
<figure>
<img src="img/12.png" alt="" /><figcaption>Hub-and-spoke</figcaption>
</figure>
<h3 id="dual-homed">1.3. Dual-homed</h3>
<p>Zapewnia redundancję. Router centralny jest podwojony w lokalizacji a te nadmiarowo podłączone do routerów obwodowych w chmurze WAN.</p>
<figure>
<img src="img/13.png" alt="" /><figcaption>Dual-homed</figcaption>
</figure>
<h3 id="pełnej-siatki">1.4. Pełnej siatki</h3>
<p>Wykorzystuje wiele obwodów wirtualnych do łączenia wszystkich lokalizacji.</p>
<figure>
<img src="img/14.png" alt="" /><figcaption>Topologia pełnej siatki</figcaption>
</figure>
<h3 id="częściowej-siatki">1.5. Częściowej siatki</h3>
<p>Łączy wiele, ale nie wszystkie lokalizacje.</p>
<figure>
<img src="img/15.png" alt="" /><figcaption>Topologia częściowej siatki</figcaption>
</figure>
<h2 id="łącza-operatorów">2. Łącza operatorów</h2>
<h3 id="sla">2.1. SLA</h3>
<p>Umowa o poziomie usług podpisywana między organizacją a usługodawcą. Przedstawia ona oczekiwane usługi związane z niezawodnością i dostępnością połączenia. Usługodawca może, ale nie musi, być faktycznym operatorem. Operator posiada i utrzymuje fizyczne połączenie i sprzęt między dostawcą a klientem. Zazwyczaj organizacja wybierze połączenie WAN z jednym operatorem lub dwoma operatorami.</p>
<h3 id="połączenie-wan-z-pojedynczym-operatorem">2.2. Połączenie WAN z pojedynczym operatorem</h3>
<p>Połączenie z jednym operatorem ma miejsce, gdy organizacja łączy się tylko z jednym dostawcą usług. Wadą tego podejścia jest połączenie operatora i dostawca usług są pojedynczymi punktami awarii.</p>
<h3 id="połączenie-wan-z-dwoma-operatorami">2.3. Połączenie WAN z dwoma operatorami</h3>
<p>Połączenie z dwoma operatorami zapewnia nadmiarowość i zwiększa dostępność sieci, jak pokazano na rysunku. Organizacja negocjuje oddzielne umowy SLA z dwoma różnymi dostawcami usług. Organizacja powinna zapewnić, że dwaj dostawcy korzystają z innego operatora. Chociaż droższe w implementacji, drugie połączenie może być używane do nadmiarowości jako łącze zapasowe. Może być również stosowany do poprawy wydajności sieci i równoważenia obciążenia ruchu internetowego.</p>
<figure>
<img src="img/7.2.3.png" alt="" /><figcaption>Połączenie WAN z dwoma operatorami</figcaption>
</figure>
<h2 id="standardy-sieci-wan">3. Standardy sieci WAN</h2>
<p>Nowoczesne standardy sieci WAN są definiowane i zarządzane przez wiele uznanych organów, w tym:</p>
<ul>
<li><strong>TIA/EIA</strong> - Telecommunications Industry Association and Electronic Industries Alliance</li>
<li><strong>ISO</strong> - International Organization for Standardization</li>
<li><strong>IEEE</strong> - Institute of Electrical and Electronics Engineers</li>
</ul>
<h2 id="sieci-wan-w-modelu-osi">4. Sieci WAN w modelu OSI</h2>
<figure>
<img src="img/16.png" alt="" /><figcaption>Sieci WAN w modelu OSI</figcaption>
</figure>
<h2 id="terminologia-wan">5. Terminologia WAN</h2>
<figure>
<img src="img/17.png" alt="" /><figcaption>Terminologia WAN</figcaption>
</figure>
<h2 id="urządzenia-sieci-wan">6. Urządzenia sieci WAN</h2>
<figure>
<img src="img/18.png" alt="" /><figcaption>Urządzenia sieci WAN</figcaption>
</figure>
<h2 id="komunikacja-szeregowa">7. Komunikacja szeregowa</h2>
<p>W sieciach WAN stosowana jest komunikacja szeregowa.</p>
<h2 id="komunikacja-z-komutacją-łączy">8. Komunikacja z komutacją łączy</h2>
<p><strong>Sieć z komutacją łączy</strong> ustanawia dedykowany obwód (lub kanał) między punktami końćowymi, zanim użytkownicy będą mogli się komunikować.</p>
<p>Podczas transmisji w sieci z komutacją łączy cała komunikacja korzysta z tej samej ścieżki. Cała stała pojemność przydzielona do obwodu jest dostępna na czas połączenia, niezależnie od tego, czy są informacje do transmisji, czy nie. Może to prowadzić do nieefektywności w użyciu obwodu. Z tego powodu komutacja łączy zasadniczo nie nadaje się do przesyłania danych.</p>
<p>Dwa najpopularniejsze typy technologii WAN z komutacją łączy to <strong>publiczna komutowana sieć telefoniczna (PSTN)</strong> i <strong>sieć cyfrowa z integracją usług (ISDN)</strong>.</p>
<h2 id="komunikacja-z-przełączaniem-pakietów">9. Komunikacja z przełączaniem pakietów</h2>
<p>W przeciwieństwie do komutacji łączy, przełączanie pakietów dzieli dane ruchu na pakiety, które są kierowane w sieci współużytkowanej. Przełączanie pakietów, nie wymaga zestawienia specjalnego obwodu/połączenia, ponadto pozwalają kilku urządzeniom komunikować się za pomocą tego samego kanału.</p>
<p>Typowe rodzaje technologii WAN z przełączaniem pakietów to <strong>Ethernet WAN (Metro Ethernet)</strong>, <strong>Multiprotocol Label Switching (MPLS)</strong>, a także starszy <strong>Frame Relay</strong> i starszy <strong>Asynchronous Transfer Mode (ATM)</strong>.</p>
<h2 id="sdh-sonet-i-dwdm">10. SDH, SONET i DWDM</h2>
<p>Istnieją dwa optyczne standardy warstwy 1 OSI dostępne dla dostawców usług:</p>
<ul>
<li><strong>Synchronous Digital Hierarchy (SDH)</strong> to globalny standard transportu danych za pomocą kabla światłowodowego.</li>
<li><strong>Synchronous Optical Networking (SONET)</strong> to norma północnoamerykańska, która świadczy te same usługi co SDH.</li>
</ul>
<p><strong>Dense Wavelength Division Multiplexing (DWDM)</strong> to nowsza technologia, która zwiększa nośność danych SDH i SONET poprzez jednoczesne wysyłanie wielu strumieni danych (multipleksowanie) przy użyciu różnych długości fal światła, jak pokazano na rysunku.</p>
<h2 id="mpls">11. MPLS</h2>
<p><strong>Multiprotocol Label Switching (MPLS)</strong> to wysokowydajna technologia routingu WAN dla dostawcy usług umożliwiająca łączenie klientów bez względu na metodę dostępu lub typ obciążenia. MPLS obsługuje różne metody dostępu klienta (np. Ethernet, DSL, Cable, Frame Relay). MPLS może enkapsulować ruch wszystkich typy protokołów, w tym IPv4 i IPv6.</p>
<h1 id="ix.-koncepcje-qos">IX. Koncepcje QoS</h1>
<h2 id="stałe-opóźnienie">1. Stałe opóźnienie</h2>
<p>To określony czas, jaki trwa określony proces, na przykład czas potrzebnny na umieszczenie go na nośniku transmisji.</p>
<h2 id="zmienne-opóźnienie">2. Zmienne opóźnienie</h2>
<p>Zajmuje nieokreślony czas i ma wpływ na takie czynniki, jak ilość ruchu która jest przetwarzana.</p>
<h2 id="źródła-opoźnienia">3. Źródła opoźnienia</h2>
<figure>
<img src="img/19.png" alt="" /><figcaption>Źródła opóźnienia</figcaption>
</figure>
<h2 id="jitter">4. Jitter</h2>
<p>Zmienność wartości opóźnienia odebranych pakietów. Z powodu przeciążenia sieci, niewłaściwego kolejkowania lub błędów konfiguracji, opóźnienie między poszczególnymi pakietami może się zmieniać, a nie pozostawać stałe.</p>
<h2 id="utracone-pakiety">5. Utracone pakiety</h2>
<p>Bez żadnych mechanizmów QoS pakiety są przetwarzane w kolejności, w jakiej zostały odebrane. W przypadku przeciążenia urządzenia sieciowe mogę odrzucać pakiety. Oznacza to, że pakiety wideo czy głosowe będą odrzucane z taką samą częstotliwością jak inne (np. e-mail, http).</p>
<h2 id="bufor-opóźnienia">6. Bufor opóźnienia</h2>
<p>Mechanizm kompensujący napotkany przez router jitter. Musi on burforować pakiety, a następnie odtwarzać je w stały strumieniu. Pakiety cyfrowe są późnień konwertowane na analogowy strumień audio.</p>
<figure>
<img src="img/20.png" alt="" /><figcaption>Bufor opóźnienia odtwarzania kompensuje jitter</figcaption>
</figure>
<p>W przypadku małym strat (jak pakiet) <strong>cyfrowy procesor sygnałowy (DSP)</strong> interpoluje dźwięk i sprawia że problem nie jest słyszalny.</p>
<h2 id="charakterystyka-ruchu-głosowego">7. Charakterystyka ruchu głosowego</h2>
<figure>
<img src="img/21.png" alt="" /><figcaption>Charakterystyka ruchu głosowego</figcaption>
</figure>
<h2 id="charakterystyka-ruchu-wideo">8. Charakterystyka ruchu wideo</h2>
<figure>
<img src="img/22.png" alt="" /><figcaption>Charakterystyka ruchu wideo</figcaption>
</figure>
<h2 id="charakterystyka-ruchu-danych">9. Charakterystyka ruchu danych</h2>
<figure>
<img src="img/23.png" alt="" /><figcaption>Charakterystyka ruchu danych</figcaption>
</figure>
<h2 id="czynniki-które-należy-wziąć-pod-uwagę-w-przypadku-opóźnienia-danych">10. Czynniki, które należy wziąć pod uwagę w przypadku opóźnienia danych</h2>
<figure>
<img src="img/24.png" alt="" /><figcaption>Czynniki, które należy wziąć pod uwagę w przypadku opóźnienia danych</figcaption>
</figure>
<h2 id="algorytmy-qos">11. Algorytmy QoS</h2>
<p><strong>Algorytmy QoS przedstawione w kursie:</strong></p>
<ul>
<li>Pierwszy wejście, pierwsze wyjście (First-in, first-out - FIFO)</li>
<li>Ważone uczciwe kolejkowanie (Weighted Fair Queuing - WFQ)</li>
<li>Uczciwe kolejkowanie oCzęśće na klasach (Class-Based Weighted Fair Queuing - CBWFQ)</li>
<li>Kolejkowanie o niskim opóźnieniu (Low Latency Queuing - LLQ)</li>
</ul>
<h2 id="first-in-first-out">12. First In First Out</h2>
<p>Znana również jako <strong>„kto pierwszy, ten lepszy”</strong>, bufory i pakiety przesyłek dalej w kolejności ich przybycia.</p>
<h2 id="ważone-uczciwe-kolejkowanie-weighted-fair-queuing---wfq">13. Ważone uczciwe kolejkowanie (Weighted Fair Queuing - WFQ)</h2>
<p>Jest zautomatyzowaną metodą planowania, która zapewnia uczciwą alokację przepustowości dla całego ruchu sieciowego. WFQ nie zezwala na konfigurację opcji klasyfikacji. WFQ stosuje priorytet lub wagi do zidentyfikowanego ruchu i klasyfikuje go do rozmów lub przepływów.</p>
<p>WFQ następnie określa, ile przepustowości każdy przepływ jest dozwolony w stosunku do innych przepływów. Algorytm przepływowy używany przez WFQ jednocześnie <strong>planuje interaktywny ruch z przodu kolejki</strong> w celu skrócenia czasu reakcji. Następnie dość dzieli pozostałą przepustowość wśród przepływów o wysokiej przepustowości. Funkcja WFQ umożliwia nadanie niewielkiemu, interaktywnemu ruchowi, na przykład sesjom Telnet i głosu, pierwszeństwa w stosunku do dużego ruchu, takiego jak sesje FTP.</p>
<p>WFQ klasyfikuje ruch na różne przepływy w oparciu o adresowanie nagłówków pakietów.</p>
<p><strong>Ograniczenia WFQ:</strong></p>
<ul>
<li>Funkcja WFQ nie jest obsługiwana w przypadku tunelowania i szyfrowania, ponieważ te funkcje modyfikują informacje o zawartości pakietów wymagane przez funkcję WFQ do klasyfikacji.</li>
<li>Nie oferuje stopnia precyzyjnej kontroli nad alokacją pasma, jaki oferuje CBWFQ.</li>
</ul>
<h2 id="uczciwe-kolejkowanie-oparte-na-klasach-class-based-weighted-fair-queuing---cbwfq">14. Uczciwe kolejkowanie oparte na klasach (Class-Based Weighted Fair Queuing - CBWFQ)</h2>
<p><strong>Class-Based Weighted Fair Queuing (CBWFQ)</strong> rozszerza standardową funkcjonalność WFQ, aby zapewnić obsługę klas ruchu zdefiniowanych przez użytkownika. Za pomocą CBWFQ definiujesz klasy ruchu na podstawie kryteriów dopasowania, w tym protokołów, list kontroli dostępu (ACL) i interfejsów wejściowych.</p>
<h2 id="kolejkowanie-o-niskim-opóźnieniu-low-latency-queuing---llq">15. Kolejkowanie o niskim opóźnieniu (Low Latency Queuing - LLQ)</h2>
<p><strong>Funkcja kolejki o niskim opóźnieniu (LLQ)</strong> zapewnia ścisłe kolejkowanie priorytetowe (PQ) do CBWFQ. Ścisłe PQ umożliwia wysyłanie pakietów wrażliwych na opóźnienia, takich jak głos przed pakietami w innych kolejkach. LLQ zapewnia ścisłą kolejkę priorytetową dla CBWFQ, zmniejszając drgania w rozmowach głosowych.</p>
<figure>
<img src="img/25.png" alt="" /><figcaption>Przykład LLQ</figcaption>
</figure>
<h2 id="modele-do-wdrażania-qos">16. Modele do wdrażania QoS</h2>
<figure>
<img src="img/26.png" alt="" /><figcaption>Modele do wdrażania QoS</figcaption>
</figure>
<h2 id="best-effort">17. Best Effort</h2>
<p>Podstawowym założeniem Internetu jest dostarczanie pakietów z największą starannością i nie daje żadnych gwarancji. Podejście to jest nadal dominujące w Internecie i pozostaje właściwe dla większości celów.</p>
<p>Model best-effort jest podobny w koncepcji do wysyłania listu za pomocą zwykłej poczty. Twój list jest traktowany dokładnie tak samo jak każdy inny list. W modelu „najlepszych wysiłków” list może nigdy nie nadejść, a jeśli nie masz osobnych ustaleń dotyczących powiadamiania z odbiorcą listu, możesz nigdy nie wiedzieć, że list nie dotarł.</p>
<p><strong>Korzyści i wady modelu best-effort</strong></p>
<figure>
<img src="img/27.png" alt="" /><figcaption>Korzyści i wady modelu best-effort</figcaption>
</figure>
<h2 id="intserv">18. IntServ</h2>
<p>IntServ zapewnia kompleksową QoS, której wymagają aplikacje czasu rzeczywistego. IntServ jawnie zarządza zasobami sieciowymi, aby zapewnić QoS dla poszczególnych przepływów lub strumieni, czasami nazywanych mikroprzepływami. Wykorzystuje mechanizmy rezerwacji zasobów i kontroli dostępu jako elementy składowe do ustanowienia i utrzymania jakości usług. Jest to podobne do koncepcji znanej jako „twarde QoS”. Twarde QoS gwarantuje charakterystykę ruchu, taką jak przepustowość, opóźnienia i współczynniki utraty pakietów, od początku do końca. Twarde QoS zapewnia zarówno przewidywalne, jak i gwarantowane poziomy usług dla aplikacji o znaczeniu krytycznym.</p>
<p>W modelu IntServ aplikacja przed wysłaniem danych żąda określonego rodzaju usługi z sieci. Aplikacja informuje sieć o swoim profilu ruchu i żąda określonego rodzaju usługi, która może obejmować wymagania dotyczące przepustowości i opóźnień. IntServ używa protokołu Resource Reservation Protocol (RSVP) do sygnalizowania zapotrzebowania na QoS ruchu aplikacji wzdłuż urządzeń na ścieżce od końca do końca w sieci. Jeśli urządzenia sieciowe na ścieżce mogą zarezerwować niezbędną przepustowość, pierwotna aplikacja może rozpocząć transmisję. Jeśli żądana rezerwacja nie powiedzie się na ścieżce, aplikacja źródłowa nie wysyła żadnych danych.</p>
<h2 id="diffserv">19. DiffServ</h2>
<p><strong>Model usług zróżnicowanych (DiffServ)</strong> QoS określa prosty i skalowalny mechanizm klasyfikowania i zarządzania ruchem sieciowym.</p>
<p>DiffServ może zapewnić „prawie gwarantowaną” jakość usług, a jednocześnie jest opłacalne i skalowalne.</p>
<p>Model DiffServ jest podobny w koncepcji do wysyłania paczki za pomocą usługi dostawy. Wysyłając paczkę żądasz (i płacisz) za odpowiedni poziom usług. W całej sieci pakietów poziom usług, za który zapłaciłeś, jest rozpoznawany, a pakiet otrzymuje preferencyjną lub normalną usługę, w zależności od tego, o co prosiłeś.</p>
<p>Gdy host przekazuje ruch do routera, router klasyfikuje przepływy w agregatach (klasach) i zapewnia odpowiednią politykę QoS dla klas. DiffServ wymusza i stosuje mechanizmy jakości usług na zasadzie przeskok po przeskoku, jednolicie nadając globalne znaczenie każdej klasie ruchu, aby zapewnić zarówno elastyczność, jak i skalowalność. Na przykład DiffServ można skonfigurować tak, aby grupował wszystkie przepływy TCP jako jedną klasę i przydzielał przepustowość dla tej klasy, a nie dla poszczególnych przepływów, jak zrobiłby to IntServ. Oprócz klasyfikowania ruchu DiffServ minimalizuje wymagania dotyczące sygnalizacji i utrzymania stanu na każdym węźle sieci.</p>
<figure>
<img src="img/30.png" alt="" /><figcaption>Wady i zalety DiffServ</figcaption>
</figure>
<h2 id="narzędzia-do-wdrażania-qos">20. Narzędzia do wdrażania QoS</h2>
<figure>
<img src="img/31.png" alt="" /><figcaption>Narzędzia do wdrażania QoS</figcaption>
</figure>
<h2 id="sekwencja-qos">21. Sekwencja QoS</h2>
<figure>
<img src="img/32.png" alt="" /><figcaption>Sekwencja QoS</figcaption>
</figure>
<h1 id="koncepcje-vpn-i-ipsec">8. Koncepcje VPN i IPSec</h1>
</body>
</html>
